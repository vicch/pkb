---
title: "PHP Function"
---
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>PHP Function</title>
<!-- 2017-09-16 Sat 11:37 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../../styles/readtheorg/css/font.css"/>
<link rel="stylesheet" type="text/css" href="../../styles/readtheorg/css/readtheorg.css"/>
<link rel="stylesheet" type="text/css" href="../../styles/readtheorg/css/htmlize.css"/>
<script type="text/javascript" src="../../styles/readtheorg/js/jquery.min.js"></script>
<script type="text/javascript" src="../../styles/readtheorg/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">PHP Function</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. 输出</a>
<ul>
<li><a href="#sec-1-1">1.1. <code>echo()</code></a></li>
<li><a href="#sec-1-2">1.2. <code>ob_start()</code></a></li>
<li><a href="#sec-1-3">1.3. <code>print()</code></a></li>
<li><a href="#sec-1-4">1.4. <code>printf()</code></a>
<ul>
<li><a href="#sec-1-4-1">1.4.1. 转换指示符</a></li>
</ul>
</li>
<li><a href="#sec-1-5">1.5. <code>print_r()</code></a></li>
<li><a href="#sec-1-6">1.6. <code>sprintf()</code></a></li>
<li><a href="#sec-1-7">1.7. <code>var_dump()</code></a></li>
<li><a href="#sec-1-8">1.8. <code>var_export()</code></a></li>
</ul>
</li>
<li><a href="#sec-2">2. 数组</a>
<ul>
<li><a href="#sec-2-1">2.1. 增删</a>
<ul>
<li><a href="#sec-2-1-1">2.1.1. <code>array_push()</code> <code>array_unshift()</code></a></li>
<li><a href="#sec-2-1-2">2.1.2. <code>array_pop()</code> <code>array_shift()</code></a></li>
</ul>
</li>
<li><a href="#sec-2-2">2.2. 排序</a>
<ul>
<li><a href="#sec-2-2-1">2.2.1. 预定义排序</a></li>
<li><a href="#sec-2-2-2">2.2.2. 自定义排序</a></li>
</ul>
</li>
<li><a href="#sec-2-3">2.3. 键值</a>
<ul>
<li><a href="#sec-2-3-1">2.3.1. <code>array_keys()</code></a></li>
<li><a href="#sec-2-3-2">2.3.2. <code>array_values()</code></a></li>
</ul>
</li>
<li><a href="#sec-2-4">2.4. 遍历</a></li>
<li><a href="#sec-2-5">2.5. 合并</a>
<ul>
<li><a href="#sec-2-5-1">2.5.1. <code>array_merge()</code></a></li>
<li><a href="#sec-2-5-2">2.5.2. <code>array_merge_recursive()</code></a></li>
<li><a href="#sec-2-5-3">2.5.3. <code>array_combine()</code></a></li>
</ul>
</li>
<li><a href="#sec-2-6">2.6. 变量</a>
<ul>
<li><a href="#sec-2-6-1">2.6.1. <code>compact()</code></a></li>
<li><a href="#sec-2-6-2">2.6.2. <code>extract()</code></a></li>
<li><a href="#sec-2-6-3">2.6.3. <code>list()</code></a></li>
</ul>
</li>
<li><a href="#sec-2-7">2.7. 回调</a>
<ul>
<li><a href="#sec-2-7-1">2.7.1. <code>array_filter()</code></a></li>
<li><a href="#sec-2-7-2">2.7.2. <code>array_map()</code></a></li>
<li><a href="#sec-2-7-3">2.7.3. <code>array_reduce()</code></a></li>
<li><a href="#sec-2-7-4">2.7.4. <code>array_walk()</code></a></li>
<li><a href="#sec-2-7-5">2.7.5. <code>array_walk_recursive()</code></a></li>
</ul>
</li>
<li><a href="#sec-2-8">2.8. 生成</a>
<ul>
<li><a href="#sec-2-8-1">2.8.1. <code>array_fill()</code></a></li>
<li><a href="#sec-2-8-2">2.8.2. <code>range()</code></a></li>
</ul>
</li>
<li><a href="#sec-2-9">2.9. 其他</a>
<ul>
<li><a href="#sec-2-9-1">2.9.1. <code>count()</code> <code>sizeof()</code></a></li>
<li><a href="#sec-2-9-2">2.9.2. <code>array_rand()</code></a></li>
<li><a href="#sec-2-9-3">2.9.3. <code>array_splice()</code></a></li>
<li><a href="#sec-2-9-4">2.9.4. <code>shuffle()</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-3">3. 数字</a>
<ul>
<li><a href="#sec-3-1">3.1. <code>min()</code> <code>max()</code></a></li>
<li><a href="#sec-3-2">3.2. <code>rand()</code></a></li>
</ul>
</li>
<li><a href="#sec-4">4. 字符串</a>
<ul>
<li><a href="#sec-4-1">4.1. <code>lcfirst()</code> <code>ucfirst()</code></a></li>
<li><a href="#sec-4-2">4.2. <code>strlen()</code></a></li>
<li><a href="#sec-4-3">4.3. <code>strpos()</code> <code>stripos()</code> <code>strrpos()</code> <code>strripos()</code></a></li>
<li><a href="#sec-4-4">4.4. <code>strrev()</code></a></li>
<li><a href="#sec-4-5">4.5. <code>strstr()</code></a></li>
<li><a href="#sec-4-6">4.6. <code>strtoupper()</code> <code>strtolower()</code></a></li>
<li><a href="#sec-4-7">4.7. <code>strtr()</code></a></li>
<li><a href="#sec-4-8">4.8. <code>str_repeat()</code></a></li>
<li><a href="#sec-4-9">4.9. <code>str_replace()</code></a></li>
<li><a href="#sec-4-10">4.10. <code>substr()</code></a></li>
<li><a href="#sec-4-11">4.11. <code>ucwords()</code></a></li>
</ul>
</li>
<li><a href="#sec-5">5. 日期时间</a>
<ul>
<li><a href="#sec-5-1">5.1. <code>date()</code></a></li>
<li><a href="#sec-5-2">5.2. <code>mktime()</code></a></li>
<li><a href="#sec-5-3">5.3. <code>strtotime()</code></a></li>
<li><a href="#sec-5-4">5.4. <code>time()</code></a></li>
</ul>
</li>
<li><a href="#sec-6">6. 转义</a>
<ul>
<li><a href="#sec-6-1">6.1. <code>addslashes()</code> <code>stripslashes</code></a></li>
<li><a href="#sec-6-2">6.2. <code>htmlspecialchars()</code> <code>htmlentities()</code></a></li>
<li><a href="#sec-6-3">6.3. <code>htmlspecialchars_decode()</code></a></li>
<li><a href="#sec-6-4">6.4. <code>strip_tags()</code></a></li>
</ul>
</li>
<li><a href="#sec-7">7. 正则</a>
<ul>
<li><a href="#sec-7-1">7.1. 表达式</a></li>
<li><a href="#sec-7-2">7.2. <code>preg_match()</code></a></li>
<li><a href="#sec-7-3">7.3. <code>preg_match_all()</code></a></li>
<li><a href="#sec-7-4">7.4. <code>preg_replace()</code></a></li>
<li><a href="#sec-7-5">7.5. <code>preg_replace_callback()</code></a></li>
</ul>
</li>
<li><a href="#sec-8">8. 加载</a>
<ul>
<li><a href="#sec-8-1">8.1. <code>include(_once)</code> <code>require(_once)</code></a></li>
<li><a href="#sec-8-2">8.2. <code>get_included_files()</code></a></li>
</ul>
</li>
<li><a href="#sec-9">9. 错误和异常</a>
<ul>
<li><a href="#sec-9-1">9.1. <code>error_get_last()</code></a></li>
<li><a href="#sec-9-2">9.2. <code>error_log()</code></a></li>
<li><a href="#sec-9-3">9.3. <code>error_reporting()</code></a></li>
<li><a href="#sec-9-4">9.4. <code>set_error_handler()</code></a></li>
<li><a href="#sec-9-5">9.5. <code>set_exception_handler()</code></a></li>
<li><a href="#sec-9-6">9.6. <code>trigger_error()</code></a></li>
</ul>
</li>
<li><a href="#sec-10">10. 变量和常量</a>
<ul>
<li><a href="#sec-10-1">10.1. <code>define()</code></a></li>
<li><a href="#sec-10-2">10.2. <code>defined()</code></a></li>
<li><a href="#sec-10-3">10.3. <code>isset()</code></a></li>
<li><a href="#sec-10-4">10.4. <code>is_callable()</code></a></li>
<li><a href="#sec-10-5">10.5. <code>empty()</code></a></li>
<li><a href="#sec-10-6">10.6. <code>unset()</code></a></li>
</ul>
</li>
<li><a href="#sec-11">11. 类和对象</a>
<ul>
<li><a href="#sec-11-1">11.1. <code>get_class_methods()</code></a></li>
<li><a href="#sec-11-2">11.2. <code>get_class_vars()</code></a></li>
<li><a href="#sec-11-3">11.3. <code>get_parent_class()</code></a></li>
<li><a href="#sec-11-4">11.4. <code>is_subclass_of()</code></a></li>
<li><a href="#sec-11-5">11.5. <code>method_exists()</code></a></li>
</ul>
</li>
<li><a href="#sec-12">12. 函数</a>
<ul>
<li><a href="#sec-12-1">12.1. <code>call_user_func()</code></a></li>
<li><a href="#sec-12-2">12.2. <code>call_user_func_array()</code></a></li>
</ul>
</li>
<li><a href="#sec-13">13. 文件</a>
<ul>
<li><a href="#sec-13-1">13.1. <code>fclose()</code></a></li>
<li><a href="#sec-13-2">13.2. <code>feof()</code></a></li>
<li><a href="#sec-13-3">13.3. <code>fgets()</code></a></li>
<li><a href="#sec-13-4">13.4. <code>file()</code></a></li>
<li><a href="#sec-13-5">13.5. <code>file_exists()</code></a></li>
<li><a href="#sec-13-6">13.6. <code>file_get_contents()</code></a></li>
<li><a href="#sec-13-7">13.7. <code>fopen()</code></a></li>
<li><a href="#sec-13-8">13.8. <code>fread()</code></a></li>
<li><a href="#sec-13-9">13.9. <code>fwrite()</code></a></li>
</ul>
</li>
<li><a href="#sec-14">14. 网络</a>
<ul>
<li><a href="#sec-14-1">14.1. <code>header()</code></a></li>
<li><a href="#sec-14-2">14.2. <code>header_remove()</code></a></li>
<li><a href="#sec-14-3">14.3. <code>headers_list()</code></a></li>
<li><a href="#sec-14-4">14.4. <code>headers_sent()</code></a></li>
<li><a href="#sec-14-5">14.5. <code>http_response_code()</code></a></li>
<li><a href="#sec-14-6">14.6. <code>setcookie()</code></a></li>
</ul>
</li>
<li><a href="#sec-15">15. URL</a>
<ul>
<li><a href="#sec-15-1">15.1. <code>http_build_query()</code></a></li>
<li><a href="#sec-15-2">15.2. <code>parse_url()</code></a></li>
<li><a href="#sec-15-3">15.3. <code>urlencode()</code></a></li>
</ul>
</li>
<li><a href="#sec-16">16. 环境和配置</a>
<ul>
<li><a href="#sec-16-1">16.1. <code>ini_get()</code></a></li>
<li><a href="#sec-16-2">16.2. <code>ini_get_all()</code></a></li>
<li><a href="#sec-16-3">16.3. <code>ini_set()</code> <code>ini_alter()</code></a></li>
<li><a href="#sec-16-4">16.4. <code>ini_restore()</code></a></li>
<li><a href="#sec-16-5">16.5. <code>phpinfo()</code></a></li>
<li><a href="#sec-16-6">16.6. <code>phpversion()</code></a></li>
<li><a href="#sec-16-7">16.7. <code>set_include_path()</code></a></li>
<li><a href="#sec-16-8">16.8. <code>version_compare()</code></a></li>
</ul>
</li>
<li><a href="#sec-17">17. Magic</a>
<ul>
<li><a href="#sec-17-1">17.1. 示例</a></li>
<li><a href="#sec-17-2">17.2. <code>__get()</code> <code>__set()</code></a></li>
</ul>
</li>
<li><a href="#sec-18">18. 结构体</a>
<ul>
<li><a href="#sec-18-1">18.1. <code>exit</code></a></li>
<li><a href="#sec-18-2">18.2. <code>die</code></a></li>
<li><a href="#sec-18-3">18.3. <code>or</code></a></li>
</ul>
</li>
<li><a href="#sec-19">19. 其他</a></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> 输出</h2>
<div class="outline-text-2" id="text-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>字符串</b></th>
<th scope="col" class="left"><a href="#echo"><code>echo()</code></a></th>
<th scope="col" class="left">打印字符串</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#printf"><code>printf()</code></a></td>
<td class="left">打印格式化字符串</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#sprintf"><code>sprintf()</code></a></td>
<td class="left">返回格式化字符串</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>变量</b></td>
<td class="left"><a href="#print"><code>print()</code></a></td>
<td class="left">打印基本类型变量</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#print_r"><code>print_r()</code></a></td>
<td class="left">打印变量信息</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#var_dump"><code>var_dump()</code></a></td>
<td class="left">输出变量或表达式的信息</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#var_export"><code>var_export()</code></a></td>
<td class="left">输出或返回变量或表达式的信息</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>输出控制</b></td>
<td class="left"><code>ob_start()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>ob_get_contents()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>ob_end_clean()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> <code>echo()</code></h3>
<div class="outline-text-3" id="text-1-1">
<p>
<a id="echo" name="echo"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">void</span> <span class="org-keyword">echo</span> ( <span class="org-type">string</span> $<span class="org-variable-name">arg</span>, ... )
</pre>
</div>

<ul class="org-ul">
<li>属于构造体，与普通函数的行为和使用语境不同。
</li>
<li>一般不用 <code>()</code> ，输入参数多于一个时不能用 <code>()</code> 。
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> <code>ob_start()</code></h3>
<div class="outline-text-3" id="text-1-2">
<div class="org-src-container">
<label class="org-src-name">示例：渲染模板但不输出，将结果保存到字符串</label>
<pre class="src src-php"><span class="org-keyword">public</span> <span class="org-keyword">function</span> <span class="org-function-name">render</span>() {
    <span class="org-function-name">extract</span>($<span class="org-constant">this</span>-&gt;<span class="org-variable-name">variables</span>);

    <span class="org-comment-delimiter">// </span><span class="org-comment">Render and get result as string</span>
    <span class="org-function-name">ob_start</span>();
    <span class="org-keyword">include</span> <span class="org-constant">ROOT</span> . <span class="org-constant">DS</span> . <span class="org-string">'application'</span> . <span class="org-constant">DS</span> . <span class="org-string">'views'</span> . <span class="org-constant">DS</span> . $<span class="org-constant">this</span>-&gt;<span class="org-variable-name">controller</span> . <span class="org-constant">DS</span> . $<span class="org-constant">this</span>-&gt;<span class="org-variable-name">action</span> . <span class="org-string">'.phtml'</span>;
    $<span class="org-variable-name">rendered</span> = <span class="org-function-name">ob_get_contents</span>();
    <span class="org-function-name">ob_end_clean</span>();

    <span class="org-keyword">return</span> $<span class="org-variable-name">rendered</span>;
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> <code>print()</code></h3>
<div class="outline-text-3" id="text-1-3">
<p>
<a id="print" name="print"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">int</span> <span class="org-default">print (</span> <span class="org-type">string</span> $<span class="org-variable-name">arg</span> )
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="right" />
</colgroup>
<tbody>
<tr>
<td class="left">返回值</td>
<td class="left"><code>int</code></td>
<td class="right">1</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>属于构造体，与普通函数的行为和使用语境相同，可以不用 <code>()</code> 。
</li>
<li>因为 <code>echo</code> 不能用于复杂表达式，某些语境下只能用 <code>print()</code> 。
</li>
</ul>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">($<span class="org-variable-name">some_var</span>) ? <span class="org-keyword">echo</span> <span class="org-string">'true'</span> : <span class="org-keyword">echo</span> <span class="org-string">'false'</span>;   <span class="org-comment-delimiter">// </span><span class="org-comment">&#38169;&#35823;</span>
($<span class="org-variable-name">some_var</span>) ? <span class="org-keyword">print</span> <span class="org-string">'true'</span> : <span class="org-keyword">print</span> <span class="org-string">'false'</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">&#21487;&#20197;&#36816;&#34892;</span>
<span class="org-keyword">echo</span> $<span class="org-variable-name">some_var</span> ? <span class="org-string">'true'</span>: <span class="org-string">'false'</span>;           <span class="org-comment-delimiter">// </span><span class="org-comment">&#21487;&#20197;&#36816;&#34892;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> <code>printf()</code></h3>
<div class="outline-text-3" id="text-1-4">
<p>
<a id="printf" name="printf"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">int</span> <span class="org-function-name">printf</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">format</span>
[,  <span class="org-type">mixed</span>  $<span class="org-variable-name">args</span>
[,  ...
]])
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>$format</code></th>
<th scope="col" class="left"><code>string</code></th>
<th scope="col" class="left">输出格式</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>$args</code></td>
<td class="left"><code>mixed</code></td>
<td class="left">变量或表达式</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">返回值</td>
<td class="left"><code>int</code></td>
<td class="left">输出字符串的长度</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-function-name">printf</span>(<span class="org-string">"&lt;font color='#%X%X%X'&gt;Hello&lt;/font&gt;"</span>, $<span class="org-variable-name">r</span>-<span class="org-default">20</span>, $<span class="org-variable-name">g</span>-<span class="org-default">20</span>, $<span class="org-variable-name">b</span>-<span class="org-default">20</span>);
</pre>
</div>
</div>

<div id="outline-container-sec-1-4-1" class="outline-4">
<h4 id="sec-1-4-1"><span class="section-number-4">1.4.1</span> 转换指示符</h4>
<div class="outline-text-4" id="text-1-4-1">
<ul class="org-ul">
<li>conversion specifier
</li>
<li>和输入参数必须一一对应，如果缺少输入参数，会导致 <code>parse</code> 错误。
</li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>%d</code></th>
<th scope="col" class="left">带符号十进制数</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>%f</code></td>
<td class="left">浮点数</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>%s</code></td>
<td class="left">字符串</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>%&lt;n&gt;$&lt;type&gt;</code></td>
<td class="left">指定输入参数</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">$<span class="org-variable-name">format</span> = <span class="org-string">'The %2$s contains %1$d monkeys'</span>;
<span class="org-keyword">echo</span> <span class="org-function-name">sprintf</span>($<span class="org-variable-name">format</span>, $<span class="org-variable-name">num</span>, $<span class="org-variable-name">location</span>);
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> <code>print_r()</code></h3>
<div class="outline-text-3" id="text-1-5">
<p>
<a id="print_r" name="print_r"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">print_r</span> (
    <span class="org-type">mixed</span> $<span class="org-variable-name">expression</span>     <span class="org-comment-delimiter">// </span><span class="org-comment">string|int|float: &#36755;&#20986;&#23383;&#38754;&#20540;</span>
                          <span class="org-comment-delimiter">// </span><span class="org-comment">object|array: &#36755;&#20986;&#35814;&#32454;&#20449;&#24687;</span>
[,  <span class="org-type">bool</span>  $<span class="org-variable-name">return</span> = <span class="org-constant">false</span>
] )
</pre>
</div>

<div class="org-src-container">

<pre class="src src-php">$<span class="org-variable-name">a</span> = <span class="org-function-name">array</span>(<span class="org-string">'a'</span> =&gt; <span class="org-string">'apple'</span>, <span class="org-string">'b'</span> =&gt; <span class="org-string">'banana'</span>);
<span class="org-function-name">print_r</span>($<span class="org-variable-name">a</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">Array</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">(</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">[a] =&gt; apple</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">[b] =&gt; banana</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6"><span class="section-number-3">1.6</span> <code>sprintf()</code></h3>
<div class="outline-text-3" id="text-1-6">
<p>
<a id="sprintf" name="sprintf"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">sprintf</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">format</span>
[,  <span class="org-type">mixed</span>  $<span class="org-variable-name">args</span>
[,  ...
]])
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>$format</code></td>
<td class="left"><code>string</code></td>
<td class="left">与 <code>printf()</code> 使用同样的格式规则</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-1-7" class="outline-3">
<h3 id="sec-1-7"><span class="section-number-3">1.7</span> <code>var_dump()</code></h3>
<div class="outline-text-3" id="text-1-7">
<p>
<a id="var_dump" name="var_dump"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">void</span> <span class="org-function-name">var_dump</span> ( <span class="org-type">mixed</span> $<span class="org-variable-name">expression</span> , ... )
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-8" class="outline-3">
<h3 id="sec-1-8"><span class="section-number-3">1.8</span> <code>var_export()</code></h3>
<div class="outline-text-3" id="text-1-8">
<p>
<a id="var_export" name="var_export"></a>
</p>

<p>
与 <code>var_dump()</code> 的区别是，输出或返回的是有效的 PHP 代码。
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">var_export</span> (
    <span class="org-type">mixed</span> $<span class="org-variable-name">expression</span>
[,  <span class="org-type">bool</span>  $<span class="org-variable-name">return</span> = <span class="org-constant">false</span> <span class="org-comment-delimiter">// </span><span class="org-comment">true &#34920;&#31034;&#19981;&#36755;&#20986;&#65292;&#23558;&#36755;&#20986;&#25991;&#26412;&#36171;&#20540;&#32473;&#23383;&#31526;&#20018;</span>
])
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> 数组</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> 增删</h3>
<div class="outline-text-3" id="text-2-1">

<div class="figure">
<p><img src="../images/php_function/01.jpg" alt="01.jpg" />
</p>
</div>
</div>

<div id="outline-container-sec-2-1-1" class="outline-4">
<h4 id="sec-2-1-1"><span class="section-number-4">2.1.1</span> <code>array_push()</code> <code>array_unshift()</code></h4>
<div class="outline-text-4" id="text-2-1-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">int</span> <span class="org-function-name">array_push</span>    ( <span class="org-comment-delimiter">// </span><span class="org-comment">&#36820;&#22238;&#21152;&#20837;&#20043;&#21518;&#30340;&#25968;&#32452;&#20803;&#32032;&#20010;&#25968;</span>
<span class="org-type">int</span> <span class="org-function-name">array_unshift</span> (
    <span class="org-type">array</span> &amp;$<span class="org-variable-name">array</span>
,   <span class="org-type">mixed</span>  $<span class="org-variable-name">var</span> ...
)
</pre>
</div>

<ul class="org-ul">
<li><code>array_push()</code> 相当于 <code>$array[]</code> ，使用 <code>$array[]</code> 可以减少调用函数的开销。
</li>
<li><code>array_unshift()</code> 会将数字索引重新排列，关联数组的索引不变。
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-1-2" class="outline-4">
<h4 id="sec-2-1-2"><span class="section-number-4">2.1.2</span> <code>array_pop()</code> <code>array_shift()</code></h4>
<div class="outline-text-4" id="text-2-1-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">array_pop</span>   (
<span class="org-type">mixed</span> <span class="org-function-name">array_shift</span> (
    <span class="org-type">array</span> &amp;$<span class="org-variable-name">array</span>
)
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">返回值</td>
<td class="left"><code>mixed</code></td>
<td class="left">取出的元素</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>null</code></td>
<td class="left"><code>$array</code> 为空或不是数组</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li><code>array_pop()</code> 会将数组指针重置。
</li>
<li><code>array_shift()</code> 会将数字索引重新排列，关联数组的索引不变。
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> 排序</h3>
<div class="outline-text-3" id="text-2-2">
</div><div id="outline-container-sec-2-2-1" class="outline-4">
<h4 id="sec-2-2-1"><span class="section-number-4">2.2.1</span> 预定义排序</h4>
<div class="outline-text-4" id="text-2-2-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left"><b>包含</b></th>
<th scope="col" class="left"><b>不包含</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>r</code></td>
<td class="left">倒序</td>
<td class="left">正序</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>a</code></td>
<td class="left">保持键值关联</td>
<td class="left">不保持键值关联</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>k</code></td>
<td class="left">按键排序，保持键值关联</td>
<td class="left">按值排序</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>u</code></td>
<td class="left">用户定义顺序</td>
<td class="left">正序或倒序</td>
</tr>
</tbody>
</table>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">sort</span>   (
<span class="org-type">bool</span> <span class="org-function-name">rsort</span>  (
<span class="org-type">bool</span> <span class="org-function-name">asort</span>  (
<span class="org-type">bool</span> <span class="org-function-name">arsort</span> (
<span class="org-type">bool</span> <span class="org-function-name">ksort</span>  (
<span class="org-type">bool</span> <span class="org-function-name">krsort</span> (
    <span class="org-type">array</span> &amp;$<span class="org-variable-name">array</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">sort_flags</span> = <span class="org-constant">SORT_REGULAR</span> <span class="org-comment-delimiter">// </span><span class="org-comment">SORT_REGULAR    &#27491;&#24120;&#25490;&#24207;&#65292;&#19981;&#25913;&#21464;&#31867;&#22411;</span>
                                      <span class="org-comment-delimiter">// </span><span class="org-comment">SORT_NUMERIC    &#25353;&#25968;&#23383;&#31867;&#22411;&#25490;&#24207;</span>
                                      <span class="org-comment-delimiter">// </span><span class="org-comment">SORT_STRING     &#25353;&#23383;&#31526;&#20018;&#31867;&#22411;&#25490;&#24207;</span>
                                      <span class="org-comment-delimiter">// </span><span class="org-comment">SORT_FLAG_CASE  &#24573;&#30053;&#22823;&#23567;&#20889;</span>
                                      <span class="org-comment-delimiter">// </span><span class="org-comment">SORT_NATURAL    &#33258;&#28982;&#25490;&#24207;&#65288;natural ordering&#65289;</span>
])
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-function-name">ksort</span>($<span class="org-variable-name">array</span>, <span class="org-constant">SORT_STRING</span> | <span class="org-constant">SORT_FLAG_CASE</span>);
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-2-2" class="outline-4">
<h4 id="sec-2-2-2"><span class="section-number-4">2.2.2</span> 自定义排序</h4>
<div class="outline-text-4" id="text-2-2-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">usort</span>  (
<span class="org-type">bool</span> <span class="org-function-name">uksort</span> (
<span class="org-type">bool</span> <span class="org-function-name">uasort</span> (
    <span class="org-type">array</span>    &amp;$<span class="org-variable-name">array</span>
,   <span class="org-type">callable</span>  $<span class="org-variable-name">cmp_function</span>
)
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-keyword">function</span> <span class="org-function-name">cmp</span>($<span class="org-variable-name">a</span>, $<span class="org-variable-name">b</span>) {
    <span class="org-keyword">if</span> ($<span class="org-variable-name">a</span> == $<span class="org-variable-name">b</span>) {
        <span class="org-keyword">return</span> <span class="org-default">0</span>;
    }
    <span class="org-keyword">return</span> ($<span class="org-variable-name">a</span> &lt; $<span class="org-variable-name">b</span>) ? -<span class="org-default">1</span> : <span class="org-default">1</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">&#36820;&#22238; 1 &#21017;&#20132;&#25442;&#20301;&#32622;</span>
}

$<span class="org-variable-name">array</span> = <span class="org-function-name">array</span>(<span class="org-string">'a'</span> =<span class="org-constant">&gt;</span> <span class="org-default">4</span>, <span class="org-string">'b'</span> =&gt; <span class="org-default">8</span>, <span class="org-string">'c'</span> =&gt; -<span class="org-default">1</span>);
<span class="org-function-name">uasort</span>($<span class="org-variable-name">array</span>, <span class="org-string">'cmp'</span>);
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> 键值</h3>
<div class="outline-text-3" id="text-2-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>array_keys()</code></th>
<th scope="col" class="left">返回数组索引</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>array_values()</code></td>
<td class="left">返回数组值</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>key()</code></td>
<td class="left">返回指针位置的键</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>value()</code></td>
<td class="left">返回指针位置的值</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-2-3-1" class="outline-4">
<h4 id="sec-2-3-1"><span class="section-number-4">2.3.1</span> <code>array_keys()</code></h4>
<div class="outline-text-4" id="text-2-3-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">array_keys</span> (             <span class="org-comment-delimiter">// </span><span class="org-comment">&#36820;&#22238;&#32034;&#24341;&#25968;&#32452;</span>
    <span class="org-type">array</span> $<span class="org-variable-name">input</span>
[,  <span class="org-type">mixed</span> $<span class="org-variable-name">search_value</span> = <span class="org-constant">null</span> <span class="org-comment-delimiter">// </span><span class="org-comment">&#31579;&#36873;&#26465;&#20214;&#65292;&#21482;&#36820;&#22238;&#19982;&#27492;&#20540;&#30456;&#21516;&#30340;&#20803;&#32032;&#30340;&#32034;&#24341;</span>
[,  <span class="org-type">bool</span>  $<span class="org-variable-name">strict</span> = <span class="org-constant">false</span>      <span class="org-comment-delimiter">// </span><span class="org-comment">true &#34920;&#31034;&#27604;&#36739;&#20540;&#21644;&#31867;&#22411;</span>
]] )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">$<span class="org-variable-name">a</span> = <span class="org-function-name">array</span>(<span class="org-string">'1'</span>, <span class="org-string">'2'</span>, <span class="org-string">'1'</span>, <span class="org-default">2</span>, <span class="org-default">1</span>);
$<span class="org-variable-name">b</span> = <span class="org-function-name">array_keys</span>($<span class="org-variable-name">a</span>, <span class="org-default">1</span>);       <span class="org-comment-delimiter">// </span><span class="org-comment">array(0, 2, 4);</span>
$<span class="org-variable-name">c</span> = <span class="org-function-name">array_keys</span>($<span class="org-variable-name">a</span>, <span class="org-default">1</span>, <span class="org-constant">true</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">array(4);</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-3-2" class="outline-4">
<h4 id="sec-2-3-2"><span class="section-number-4">2.3.2</span> <code>array_values()</code></h4>
<div class="outline-text-4" id="text-2-3-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">array_values</span> ( <span class="org-type">array</span> $<span class="org-variable-name">input</span> )
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4"><span class="section-number-3">2.4</span> 遍历</h3>
<div class="outline-text-3" id="text-2-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">返回 <code>false</code> 的情况</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>reset()</code></td>
<td class="left">指向第一个元素，并返回值</td>
<td class="left">数组为空</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>prev()</code></td>
<td class="left">指向前一个元素，并返回值</td>
<td class="left">超过数组首端</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>current()</code></td>
<td class="left">不移动指针，返回当前元素值</td>
<td class="left">超过数组末端或数组为空</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>next()</code></td>
<td class="left">指向下一个元素，并返回值</td>
<td class="left">超过数组末端</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>end()</code></td>
<td class="left">指向最后一个元素，并返回值</td>
<td class="left">数组为空</td>
</tr>
</tbody>
</table>

<p>
返回值无法区分数组为空、超过首端、超过末端的情况和元素值为 <code>false</code> 的情况。
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">reset</span>   (
<span class="org-type">mixed</span> <span class="org-function-name">prev</span>    (
<span class="org-type">mixed</span> <span class="org-function-name">current</span> (
<span class="org-type">mixed</span> <span class="org-function-name">next</span>    (
<span class="org-type">mixed</span> <span class="org-function-name">end</span>     (
    <span class="org-type">array</span> &amp;$<span class="org-variable-name">array</span>
)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5"><span class="section-number-3">2.5</span> 合并</h3>
<div class="outline-text-3" id="text-2-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>array_merge()</code></th>
<th scope="col" class="left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>array_merge_recursive()</code></td>
<td class="left">递归合并</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>array_combine()</code></td>
<td class="left">合并索引数组和值数组，生成新的数组</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-2-5-1" class="outline-4">
<h4 id="sec-2-5-1"><span class="section-number-4">2.5.1</span> <code>array_merge()</code></h4>
<div class="outline-text-4" id="text-2-5-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">array_merge</span> ( <span class="org-type">array</span> $<span class="org-variable-name">array</span> , ... )
</pre>
</div>

<ul class="org-ul">
<li>如果数组中出现重复的字符串索引，后出现的元素覆盖前面的元素。
</li>
<li>数字索引不会被覆盖，所有数字索引的元素从 0 开始重新排列。
</li>
</ul>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">$<span class="org-variable-name">arr1</span> = <span class="org-function-name">array</span>(<span class="org-string">"color"</span> =&gt; <span class="org-string">"red"</span>, <span class="org-default">2</span>, <span class="org-default">4</span>);
$<span class="org-variable-name">arr2</span> = <span class="org-function-name">array</span>(<span class="org-string">"a"</span>, <span class="org-string">"b"</span>, <span class="org-string">"color"</span> =&gt; <span class="org-string">"green"</span>, <span class="org-string">"shape"</span> =&gt; <span class="org-string">"trapezoid"</span>, <span class="org-default">4</span>);
$<span class="org-variable-name">result</span> = <span class="org-function-name">array_merge</span>($<span class="org-variable-name">arr1</span>, $<span class="org-variable-name">arr2</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">array(</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">[color] =&gt; green     // &#23383;&#31526;&#20018;&#32034;&#24341;&#35206;&#30422;</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">[0]     =&gt; 2         // &#37325;&#26032;&#25490;&#21015;&#25968;&#23383;&#32034;&#24341;</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">[1]     =&gt; 4</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">[2]     =&gt; a</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">[3]     =&gt; b</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">[shape] =&gt; trapezoid</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">[4]     =&gt; 4</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-5-2" class="outline-4">
<h4 id="sec-2-5-2"><span class="section-number-4">2.5.2</span> <code>array_merge_recursive()</code></h4>
<div class="outline-text-4" id="text-2-5-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">array_merge_recursive</span> ( <span class="org-type">array</span> $<span class="org-variable-name">array</span> , ... )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">$<span class="org-variable-name">arr1</span> = <span class="org-function-name">array</span>(<span class="org-string">"color"</span> =&gt; <span class="org-function-name">array</span>(<span class="org-string">"favorite"</span> =&gt; <span class="org-string">"red"</span>), <span class="org-default">5</span>);
$<span class="org-variable-name">arr2</span> = <span class="org-function-name">array</span>(<span class="org-default">10</span>, <span class="org-string">"color"</span> =&gt; <span class="org-function-name">array</span>(<span class="org-string">"favorite"</span> =&gt; <span class="org-string">"green"</span>, <span class="org-string">"blue"</span>));
$<span class="org-variable-name">result</span> = <span class="org-function-name">array_merge_recursive</span>($<span class="org-variable-name">arr1</span>, $<span class="org-variable-name">arr2</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">array(</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">[color] =&gt; array(</span>
<span class="org-comment-delimiter">//         </span><span class="org-comment">[favorite] =&gt; array( // &#37325;&#22797;&#30340;&#32034;&#24341;&#34987;&#36716;&#25442;&#20026;&#20108;&#32423;&#25968;&#32452;</span>
<span class="org-comment-delimiter">//             </span><span class="org-comment">[0] =&gt; red</span>
<span class="org-comment-delimiter">//             </span><span class="org-comment">[1] =&gt; green</span>
<span class="org-comment-delimiter">//         </span><span class="org-comment">)</span>
<span class="org-comment-delimiter">//         </span><span class="org-comment">[0] =&gt; blue</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">)</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">[0] =&gt; 5</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">[1] =&gt; 10</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-5-3" class="outline-4">
<h4 id="sec-2-5-3"><span class="section-number-4">2.5.3</span> <code>array_combine()</code></h4>
<div class="outline-text-4" id="text-2-5-3">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">array_combine</span> ( <span class="org-comment-delimiter">// </span><span class="org-comment">&#20004;&#20010;&#25968;&#32452;&#20803;&#32032;&#20010;&#25968;&#19981;&#21516;&#26102;&#36820;&#22238; false</span>
    <span class="org-type">array</span> $<span class="org-variable-name">keys</span>
,   <span class="org-type">array</span> $<span class="org-variable-name">values</span>
)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-2-6" class="outline-3">
<h3 id="sec-2-6"><span class="section-number-3">2.6</span> 变量</h3>
<div class="outline-text-3" id="text-2-6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>compact()</code></th>
<th scope="col" class="left">将与字符串同名的变量的值，组合为字符串数组</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>extract()</code></td>
<td class="left">将字符串数组中的元素转换为一组变量</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>list()</code></td>
<td class="left">用数组中的元素为多个变量赋值</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-2-6-1" class="outline-4">
<h4 id="sec-2-6-1"><span class="section-number-4">2.6.1</span> <code>compact()</code></h4>
<div class="outline-text-4" id="text-2-6-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">compact</span> (
    <span class="org-type">mixed</span> $<span class="org-variable-name">varname1</span> <span class="org-comment-delimiter">// </span><span class="org-comment">string</span>
[,  <span class="org-type">mixed</span> $<span class="org-variable-name">varname2</span> <span class="org-comment-delimiter">// </span><span class="org-comment">array  &#36941;&#21382;&#25968;&#32452;&#20013;&#30340;&#23383;&#31526;&#20018;</span>
[,  ...
]] )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">$<span class="org-variable-name">city</span>  = <span class="org-string">'San Francisco'</span>;
$<span class="org-variable-name">state</span> = <span class="org-string">'CA'</span>;
$<span class="org-variable-name">event</span> = <span class="org-string">'SIGGRAPH'</span>;
$<span class="org-variable-name">location_vars</span> = <span class="org-function-name">array</span>(<span class="org-string">'city'</span>, <span class="org-string">'state'</span>);
$<span class="org-variable-name">result</span> = <span class="org-function-name">compact</span>(<span class="org-string">'event'</span>, <span class="org-string">'nothing_here'</span>, $<span class="org-variable-name">location_vars</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">array(</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">'event' =&gt; 'SIGGRAPH',</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">'city'  =&gt; 'San Francisco',</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">'state' =&gt; 'CA'</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">);</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-6-2" class="outline-4">
<h4 id="sec-2-6-2"><span class="section-number-4">2.6.2</span> <code>extract()</code></h4>
<div class="outline-text-4" id="text-2-6-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">int</span> <span class="org-function-name">extract</span> (
    <span class="org-type">array</span> &amp;$<span class="org-variable-name">array</span>                  <span class="org-comment-delimiter">// </span><span class="org-comment">&#38190;&#20316;&#20026;&#21464;&#37327;&#21517;&#65292;&#20540;&#20316;&#20026;&#21464;&#37327;&#20540;</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">flags</span> = <span class="org-constant">EXTR_OVERWRITE</span> <span class="org-comment-delimiter">// </span><span class="org-comment">&#20986;&#29616;&#20914;&#31361;&#26102;&#65288;&#21516;&#21517;&#21464;&#37327;&#24050;&#23384;&#22312;&#65289;&#30340;&#34892;&#20026;</span>
[,  <span class="org-type">string</span> $<span class="org-variable-name">prefix</span> = <span class="org-constant">NULL</span>          <span class="org-comment-delimiter">// </span><span class="org-comment">&#21464;&#37327;&#21517;&#21069;&#32512;</span>
]] )
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 1:</span> <code>$flags</code></caption>

<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>EXTR_OVERWRITE</code></th>
<th scope="col" class="left">覆盖，默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>EXTR_SKIP</code></td>
<td class="left">跳过</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>EXTR_PREFIX_SAME</code></td>
<td class="left">同名变量名加前缀 <code>$prefix</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>EXTR_PREFIX_ALL</code></td>
<td class="left">所有变量名加前缀 <code>$prefix</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>EXTR_PREFIX_INVALID</code></td>
<td class="left">无效的、数字的变量名加前缀 <code>$prefix</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>EXTR_IF_EXISTS</code></td>
<td class="left">只转换并覆盖已存在的变量名</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">eg. 可用于从 <code>$_REQUEST</code> 中提取一组限定的变量等</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>EXTR_PREFIX_IF_EXISTS</code></td>
<td class="left">只转换已存在的变量名，新变量名加前缀 <code>$prefix</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>EXTR_REFS</code></td>
<td class="left">新变量是对传入的数组的值的引用</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">$<span class="org-variable-name">size</span> = <span class="org-string">'large'</span>;
$<span class="org-variable-name">var_array</span> = <span class="org-function-name">array</span>(
    <span class="org-string">'color'</span> =&gt; <span class="org-string">'blue'</span>,
    <span class="org-string">'size'</span>  =&gt; <span class="org-string">'medium'</span>,
    <span class="org-string">'shape'</span> =&gt; <span class="org-string">'sphere'</span>
);
<span class="org-function-name">extract</span>($<span class="org-variable-name">var_array</span>, <span class="org-constant">EXTR_PREFIX_SAME</span>, <span class="org-string">'wddx'</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">$color     : 'blue';</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">$size      : 'large';</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">$shape     : 'sphere';</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">$wddx_size : 'medium';</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-6-3" class="outline-4">
<h4 id="sec-2-6-3"><span class="section-number-4">2.6.3</span> <code>list()</code></h4>
<div class="outline-text-4" id="text-2-6-3">
<ul class="org-ul">
<li>构造体，非函数。
</li>
<li>变量与数组元素按顺序一一对应。
</li>
</ul>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-keyword">list</span> ( <span class="org-type">mixed</span> $<span class="org-variable-name">var</span> , ... )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">$<span class="org-variable-name">info</span> = <span class="org-function-name">array</span>(<span class="org-string">'coffee'</span>, <span class="org-string">'brown'</span>, <span class="org-string">'caffeine'</span>);
<span class="org-keyword">list</span>($<span class="org-variable-name">drink</span>, $<span class="org-variable-name">color</span>, $<span class="org-variable-name">power</span>) = $<span class="org-variable-name">info</span>;
<span class="org-keyword">list</span>($<span class="org-variable-name">drink</span>, , $<span class="org-variable-name">power</span>) = $<span class="org-variable-name">info</span>;
<span class="org-keyword">list</span>( , , $<span class="org-variable-name">power</span>) = $<span class="org-variable-name">info</span>;
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">可以用于交换变量</label>
<pre class="src src-php">$<span class="org-variable-name">a</span> = <span class="org-default">1</span>; $<span class="org-variable-name">b</span> = <span class="org-default">2</span>;
<span class="org-keyword">list</span>($<span class="org-variable-name">a</span>, $<span class="org-variable-name">b</span>) = <span class="org-function-name">array</span>($<span class="org-variable-name">b</span>, $<span class="org-variable-name">a</span>);
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-2-7" class="outline-3">
<h3 id="sec-2-7"><span class="section-number-3">2.7</span> 回调</h3>
<div class="outline-text-3" id="text-2-7">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>array_map()</code></th>
<th scope="col" class="left">遍历数组元素，调用回调函数，返回结果数组</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>array_reduce()</code></td>
<td class="left">遍历数组元素，调用回调函数，返回递归值</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>array_walk()</code></td>
<td class="left">遍历数组元素，调用回调函数，修改原数组</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>array_walk_recursive()</code></td>
<td class="left">递归遍历数组元素，调用回调函数</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>array_filter()</code></td>
<td class="left">调用回调函数对数组元素进行筛选</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-2-7-1" class="outline-4">
<h4 id="sec-2-7-1"><span class="section-number-4">2.7.1</span> <code>array_filter()</code></h4>
<div class="outline-text-4" id="text-2-7-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">array_filter</span> (
    <span class="org-type">array</span>    $<span class="org-variable-name">array</span>
[,  <span class="org-type">callable</span> $<span class="org-variable-name">callback</span>
[,  <span class="org-type">int</span>      $<span class="org-variable-name">flag</span> = <span class="org-default">0</span>
]] )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-keyword">function</span> <span class="org-function-name">even</span>($<span class="org-variable-name">var</span>) {
    <span class="org-keyword">return</span> !($<span class="org-variable-name">var</span> &amp; <span class="org-default">1</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">&#36820;&#22238; true &#21017;&#20445;&#30041;&#20803;&#32032;&#65292;&#21542;&#21017;&#36807;&#28388;&#25481;</span>
}
$<span class="org-variable-name">array</span> = <span class="org-function-name">array</span>(<span class="org-default">6</span>, <span class="org-default">7</span>, <span class="org-default">8</span>, <span class="org-default">9</span>, <span class="org-default">10</span>, <span class="org-default">11</span>, <span class="org-default">12</span>);
$<span class="org-variable-name">evens</span> = <span class="org-function-name">array_filter</span>($<span class="org-variable-name">array</span>, <span class="org-string">'even'</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">array(6, 8, 10, 12)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-7-2" class="outline-4">
<h4 id="sec-2-7-2"><span class="section-number-4">2.7.2</span> <code>array_map()</code></h4>
<div class="outline-text-4" id="text-2-7-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">array_map</span> (
    <span class="org-type">callable</span> $<span class="org-variable-name">callback</span>
,   <span class="org-type">array</span>    $<span class="org-variable-name">array</span>
[,  <span class="org-type">array</span>    $<span class="org-variable-name">array</span>
[,  ...
]] )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-keyword">function</span> <span class="org-function-name">cube</span>($<span class="org-variable-name">n</span>) {
    <span class="org-keyword">return</span>($<span class="org-variable-name">n</span> * $<span class="org-variable-name">n</span> * $<span class="org-variable-name">n</span>);
}
$<span class="org-variable-name">a</span> = <span class="org-function-name">array</span>(<span class="org-default">1</span>, <span class="org-default">2</span>, <span class="org-default">3</span>, <span class="org-default">4</span>, <span class="org-default">5</span>);
$<span class="org-variable-name">b</span> = <span class="org-function-name">array_map</span>(<span class="org-string">'cube'</span>, $<span class="org-variable-name">a</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">array(1, 8, 27, 64, 125);</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-7-3" class="outline-4">
<h4 id="sec-2-7-3"><span class="section-number-4">2.7.3</span> <code>array_reduce()</code></h4>
<div class="outline-text-4" id="text-2-7-3">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">array_reduce</span> (
    <span class="org-type">array</span>    $<span class="org-variable-name">array</span>
,   <span class="org-type">callable</span> $<span class="org-variable-name">callback</span>
[,  <span class="org-type">mixed</span>    $<span class="org-variable-name">initial</span> = <span class="org-warning">NULL</span>
] )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">回调函数</label>
<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">callback</span> (
    <span class="org-type">mixed</span> $<span class="org-variable-name">carry</span>
,   <span class="org-type">mixed</span> $<span class="org-variable-name">item</span>
)
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-keyword">function</span> <span class="org-function-name">sum</span>($<span class="org-variable-name">carry</span>, $<span class="org-variable-name">item</span>) {
    $<span class="org-variable-name">carry</span> += $<span class="org-variable-name">item</span>;
    <span class="org-keyword">return</span> $<span class="org-variable-name">carry</span>;
}

<span class="org-keyword">function</span> <span class="org-function-name">product</span>($<span class="org-variable-name">carry</span>, $<span class="org-variable-name">item</span>) {
    $<span class="org-variable-name">carry</span> *= $<span class="org-variable-name">item</span>;
    <span class="org-keyword">return</span> $<span class="org-variable-name">carry</span>;
}

$<span class="org-variable-name">a</span> = <span class="org-function-name">array</span>(<span class="org-default">1</span>, <span class="org-default">2</span>, <span class="org-default">3</span>, <span class="org-default">4</span>, <span class="org-default">5</span>);
$<span class="org-variable-name">x</span> = <span class="org-function-name">array</span>();

<span class="org-function-name">array_reduce</span>($<span class="org-variable-name">a</span>, <span class="org-string">'sum'</span>);            <span class="org-comment-delimiter">// </span><span class="org-comment">15</span>
<span class="org-function-name">array_reduce</span>($<span class="org-variable-name">a</span>, <span class="org-string">'product'</span>, <span class="org-default">10</span>));   <span class="org-comment-delimiter">// </span><span class="org-comment">1200 (10 * 1 * 2 * 3 * 4 * 5)</span>
<span class="org-function-name">array_reduce</span>($<span class="org-variable-name">x</span>, <span class="org-string">'sum'</span>, <span class="org-string">'No data'</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">No data</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-7-4" class="outline-4">
<h4 id="sec-2-7-4"><span class="section-number-4">2.7.4</span> <code>array_walk()</code></h4>
<div class="outline-text-4" id="text-2-7-4">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">array_walk</span> (
    <span class="org-type">array</span>    &amp;$<span class="org-variable-name">array</span>
,   <span class="org-type">callable</span>  $<span class="org-variable-name">callback</span>
[,  <span class="org-type">mixed</span>     $<span class="org-variable-name">userdata</span> = <span class="org-warning">NULL</span>
] )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-keyword">function</span> <span class="org-function-name">test_print</span>($<span class="org-variable-name">item2</span>, $<span class="org-variable-name">key</span>) {
    <span class="org-keyword">echo</span> <span class="org-string">"$key. $item2\n"</span>;
}
<span class="org-keyword">function</span> <span class="org-function-name">test_alter</span>(&amp;$<span class="org-variable-name">item1</span>, $<span class="org-variable-name">key</span>, $<span class="org-variable-name">prefix</span>) {
    $<span class="org-variable-name">item1</span> = <span class="org-string">"$prefix: $item1"</span>;
}

$<span class="org-variable-name">fruits</span> = <span class="org-function-name">array</span>(<span class="org-string">"a"</span> =&gt; <span class="org-string">"apple"</span>, <span class="org-string">"b"</span> =&gt; <span class="org-string">"banana"</span>);
<span class="org-function-name">array_walk</span>($<span class="org-variable-name">fruits</span>, <span class="org-string">'test_print'</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">a. apple</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">b. banana</span>
<span class="org-function-name">array_walk</span>($<span class="org-variable-name">fruits</span>, <span class="org-string">'test_alter'</span>, <span class="org-string">'fruit'</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">array(</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">"a" =&gt; "fruit: apple",</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">"b" =&gt; "fruit: banana"</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">)</span>
<span class="org-function-name">array_walk</span>($<span class="org-variable-name">fruits</span>, <span class="org-string">'test_print'</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">a. fruit: apple</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">b. fruit: banana</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-7-5" class="outline-4">
<h4 id="sec-2-7-5"><span class="section-number-4">2.7.5</span> <code>array_walk_recursive()</code></h4>
<div class="outline-text-4" id="text-2-7-5">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">array_walk_recursive</span> (
    <span class="org-type">array</span>   &amp;$<span class="org-variable-name">array</span>
,   <span class="org-type">callable</span> $<span class="org-variable-name">callback</span>
[,  <span class="org-type">mixed</span>    $<span class="org-variable-name">userdata</span> = <span class="org-warning">NULL</span>
] )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">回调函数</label>
<pre class="src src-php"><span class="org-type">void</span> <span class="org-function-name">callback</span> (
    <span class="org-type">mixed</span> $<span class="org-variable-name">value</span>
,   <span class="org-type">mixed</span> $<span class="org-variable-name">key</span>
)
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">$<span class="org-variable-name">sweet</span> = <span class="org-function-name">array</span>(<span class="org-string">'a'</span> =&gt; <span class="org-string">'apple'</span>, <span class="org-string">'b'</span> =&gt; <span class="org-string">'banana'</span>);
$<span class="org-variable-name">fruits</span> = <span class="org-function-name">array</span>(<span class="org-string">'sweet'</span> =&gt; $<span class="org-variable-name">sweet</span>, <span class="org-string">'sour'</span> =&gt; <span class="org-string">'lemon'</span>);

<span class="org-keyword">function</span> <span class="org-function-name">foo</span>($<span class="org-variable-name">item</span>, $<span class="org-variable-name">key</span>) {
    <span class="org-keyword">echo</span> <span class="org-string">"$key holds $item\n"</span>;
}

<span class="org-function-name">array_walk_recursive</span>($<span class="org-variable-name">fruits</span>, <span class="org-string">'test_print'</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">a holds apple</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">b holds banana</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">sour holds lemon</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-2-8" class="outline-3">
<h3 id="sec-2-8"><span class="section-number-3">2.8</span> 生成</h3>
<div class="outline-text-3" id="text-2-8">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>array_fill()</code></th>
<th scope="col" class="left">用指定值填充数组</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>range()</code></td>
<td class="left">创建含有连续数字、字母的数组</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-2-8-1" class="outline-4">
<h4 id="sec-2-8-1"><span class="section-number-4">2.8.1</span> <code>array_fill()</code></h4>
<div class="outline-text-4" id="text-2-8-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">array_fill</span> (
    <span class="org-type">int</span>   $<span class="org-variable-name">start_index</span> <span class="org-comment-delimiter">// </span><span class="org-comment">&#36215;&#22987;&#32034;&#24341;</span>
,   <span class="org-type">int</span>   $<span class="org-variable-name">num</span>         <span class="org-comment-delimiter">// </span><span class="org-comment">&#20803;&#32032;&#20010;&#25968;</span>
,   <span class="org-type">mixed</span> $<span class="org-variable-name">value</span>
)
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">$<span class="org-variable-name">a</span> = <span class="org-function-name">array_fill</span>(<span class="org-default">5</span>, <span class="org-default">3</span>, <span class="org-string">'banana'</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">array(</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">5 =&gt; 'banana',</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">6 =&gt; 'banana',</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">7 =&gt; 'banana'</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-8-2" class="outline-4">
<h4 id="sec-2-8-2"><span class="section-number-4">2.8.2</span> <code>range()</code></h4>
<div class="outline-text-4" id="text-2-8-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">range</span> (
    <span class="org-type">mixed</span>  $<span class="org-variable-name">start</span>
,   <span class="org-type">mixed</span>  $<span class="org-variable-name">end</span>
[,  <span class="org-type">number</span> $<span class="org-variable-name">step</span> = <span class="org-default">1</span>
])
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-comment-delimiter">// </span><span class="org-comment">array(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)</span>
<span class="org-keyword">foreach</span> (<span class="org-function-name">range</span>(<span class="org-default">0</span>, <span class="org-default">12</span>) <span class="org-keyword">as</span> <span class="org-function-name">$number</span>) {
    <span class="org-keyword">echo</span> $<span class="org-variable-name">number</span>;
}

<span class="org-comment-delimiter">// </span><span class="org-comment">array('c', 'b', 'a');</span>
<span class="org-keyword">foreach</span> (<span class="org-function-name">range</span>(<span class="org-string">'c'</span>, <span class="org-string">'a'</span>) <span class="org-keyword">as</span> <span class="org-function-name">$letter</span>) {
    <span class="org-keyword">echo</span> $<span class="org-variable-name">letter</span>;
}
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-2-9" class="outline-3">
<h3 id="sec-2-9"><span class="section-number-3">2.9</span> 其他</h3>
<div class="outline-text-3" id="text-2-9">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left"><code>count()</code></th>
<th scope="col" class="left">返回元素个数</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>sizeof()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>array_unique()</code></td>
<td class="left">去除重复值</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>切片</b></td>
<td class="left"><code>array_slice()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>array_splice()</code></td>
<td class="left">替换一部分元素</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>随机</b></td>
<td class="left"><code>array_rand()</code></td>
<td class="left">返回一个或多个随机元素</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>shuffle()</code></td>
<td class="left">打乱元素顺序</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-2-9-1" class="outline-4">
<h4 id="sec-2-9-1"><span class="section-number-4">2.9.1</span> <code>count()</code> <code>sizeof()</code></h4>
<div class="outline-text-4" id="text-2-9-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">int</span> <span class="org-function-name">count</span> (
<span class="org-type">int</span> <span class="org-function-name">sizeof</span> (
    <span class="org-type">mixed</span> $<span class="org-variable-name">var</span>
[,  <span class="org-type">int</span>   $<span class="org-variable-name">mode</span> = <span class="org-constant">COUNT_NORMAL</span>
] )
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">返回值</td>
<td class="left"><code>0</code></td>
<td class="left">变量的值为 <code>null</code> 、变量未赋值、数组为空</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>1</code></td>
<td class="left">变量为数组以外其他类型，且不满足返回 0 的条件</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-2-9-2" class="outline-4">
<h4 id="sec-2-9-2"><span class="section-number-4">2.9.2</span> <code>array_rand()</code></h4>
<div class="outline-text-4" id="text-2-9-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">array_rand</span> (
    <span class="org-type">array</span> $<span class="org-variable-name">array</span>
[,  <span class="org-type">int</span>   $<span class="org-variable-name">num</span> = <span class="org-default">1</span>
])
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-9-3" class="outline-4">
<h4 id="sec-2-9-3"><span class="section-number-4">2.9.3</span> <code>array_splice()</code></h4>
<div class="outline-text-4" id="text-2-9-3">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">array_splice</span> (               <span class="org-comment-delimiter">// </span><span class="org-comment">&#36820;&#22238;&#34987;&#26367;&#25442;&#30340;&#37096;&#20998;</span>
    <span class="org-type">array</span> &amp;$<span class="org-variable-name">input</span>                  <span class="org-comment-delimiter">// </span><span class="org-comment">&#36755;&#20837;&#25968;&#32452;</span>
,   <span class="org-type">int</span>    $<span class="org-variable-name">offset</span>                 <span class="org-comment-delimiter">// </span><span class="org-comment">&#26367;&#25442;&#36215;&#22987;</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">length</span> = <span class="org-function-name">count</span>($<span class="org-variable-name">input</span>) <span class="org-comment-delimiter">// </span><span class="org-comment">&#26367;&#25442;&#38271;&#24230;</span>
[,  <span class="org-type">mixed</span>  $<span class="org-variable-name">replacement</span> = <span class="org-function-name">array</span>()  <span class="org-comment-delimiter">// </span><span class="org-comment">&#26367;&#25442;&#25968;&#32452;</span>
]] )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">$<span class="org-variable-name">a</span> = <span class="org-function-name">array</span>(<span class="org-default">1</span>, <span class="org-default">3</span>, <span class="org-default">5</span>, <span class="org-default">7</span>, <span class="org-default">9</span>);
$<span class="org-variable-name">b</span> = <span class="org-function-name">array_splice</span>($<span class="org-variable-name">a</span>, <span class="org-default">2</span>, <span class="org-default">1</span>, <span class="org-default">6</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">$a : array(1, 3, 6, 7, 9)</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">$b : array(5)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-9-4" class="outline-4">
<h4 id="sec-2-9-4"><span class="section-number-4">2.9.4</span> <code>shuffle()</code></h4>
<div class="outline-text-4" id="text-2-9-4">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">shuffle</span> ( <span class="org-type">array</span> &amp;$<span class="org-variable-name">array</span> )
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> 数字</h2>
<div class="outline-text-2" id="text-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>min()</code></th>
<th scope="col" class="left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>max()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>rand()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> <code>min()</code> <code>max()</code></h3>
<div class="outline-text-3" id="text-3-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">min</span> ( <span class="org-type">array</span> $<span class="org-variable-name">values</span> )
<span class="org-type">mixed</span> <span class="org-function-name">max</span> ( <span class="org-type">array</span> $<span class="org-variable-name">values</span> )

<span class="org-type">mixed</span> <span class="org-function-name">min</span> (
<span class="org-type">mixed</span> <span class="org-function-name">max</span> (
    <span class="org-type">mixed</span> $<span class="org-variable-name">value1</span>
,   <span class="org-type">mixed</span> $<span class="org-variable-name">value2</span>
[,  ...
] )
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> <code>rand()</code></h3>
<div class="outline-text-3" id="text-3-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">int</span> <span class="org-function-name">rand</span> (
    <span class="org-type">int</span> $<span class="org-variable-name">min</span>
,   <span class="org-type">int</span> $<span class="org-variable-name">max</span>
)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> 字符串</h2>
<div class="outline-text-2" id="text-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>信息</b></th>
<th scope="col" class="left"><a href="#strlen"><code>strlen()</code></a></th>
<th scope="col" class="left">返回长度</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>查找</b></td>
<td class="left"><a href="#strpos"><code>strpos()</code></a></td>
<td class="left">返回第一个匹配位置</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#stripos"><code>stripos()</code></a></td>
<td class="left">返回第一个匹配位置，区分大小写</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#strrpos"><code>strrpos()</code></a></td>
<td class="left">返回最后一个匹配位置</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#strripos"><code>strripos()</code></a></td>
<td class="left">返回最后一个匹配位置，区分大小写</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>操作</b></td>
<td class="left"><a href="#substr"><code>substr()</code></a></td>
<td class="left">返回子字符串</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#str_replace"><code>str_replace()</code></a></td>
<td class="left">字符串替换</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><i><code>strtr()</code></i></td>
<td class="left">字符串替换</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#strstr"><code>strstr()</code></a></td>
<td class="left">返回从第一个匹配位置开始，到字符串末尾</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>格式</b></td>
<td class="left"><a href="#strrev"><code>strrev()</code></a></td>
<td class="left">倒序</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#strtoupper"><code>strtoupper()</code></a></td>
<td class="left">返回大写形式</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#strtolower"><code>strtolower()</code></a></td>
<td class="left">返回小写形式</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#lcfirst"><code>lcfirst()</code></a></td>
<td class="left">第一个字符小写</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#ucfirst"><code>ucfirst()</code></a></td>
<td class="left">第一个字符大写</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#ucwords"><code>ucwords()</code></a></td>
<td class="left">每个词的第一个字符大写</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>生成</b></td>
<td class="left"><a href="#str_repeat"><code>str_repeat()</code></a></td>
<td class="left">字符串重复 n 次</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> <code>lcfirst()</code> <code>ucfirst()</code></h3>
<div class="outline-text-3" id="text-4-1">
<p>
<a id="lcfirst" name="lcfirst"></a><a id="ucfirst" name="ucfirst"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">lcfirst</span> (
<span class="org-type">string</span> <span class="org-function-name">ucfirst</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">str</span>
)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> <code>strlen()</code></h3>
<div class="outline-text-3" id="text-4-2">
<p>
<a id="strlen" name="strlen"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">int</span> <span class="org-function-name">strlen</span> ( <span class="org-type">string</span> $<span class="org-variable-name">string</span> )
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> <code>strpos()</code> <code>stripos()</code> <code>strrpos()</code> <code>strripos()</code></h3>
<div class="outline-text-3" id="text-4-3">
<p>
<a id="strpos" name="strpos"></a><a id="stripos" name="stripos"></a><a id="strrpos" name="strrpos"></a><a id="strripos" name="strripos"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">strpos</span> (  <span class="org-comment-delimiter">// </span><span class="org-comment">&#36820;&#22238; false &#34920;&#31034;&#25214;&#19981;&#21040; needle</span>
<span class="org-type">mixed</span> <span class="org-function-name">strrpos</span> (
<span class="org-type">mixed</span> <span class="org-function-name">stripos</span> (
<span class="org-type">mixed</span> <span class="org-function-name">strripos</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">haystack</span>
,   <span class="org-type">mixed</span>  $<span class="org-variable-name">needle</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">offset</span> = <span class="org-default">0</span>
])
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4"><span class="section-number-3">4.4</span> <code>strrev()</code></h3>
<div class="outline-text-3" id="text-4-4">
<p>
<a id="strrev" name="strrev"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">strrev</span> ( <span class="org-type">string</span> $<span class="org-variable-name">string</span> )
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5"><span class="section-number-3">4.5</span> <code>strstr()</code></h3>
<div class="outline-text-3" id="text-4-5">
<p>
<a id="strstr" name="strstr"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">strstr</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">haystack</span>
,   <span class="org-type">mixed</span>  $<span class="org-variable-name">needle</span>
[,  <span class="org-type">bool</span>   $<span class="org-variable-name">before_needle</span> = <span class="org-constant">false</span> <span class="org-comment-delimiter">// </span><span class="org-comment">true &#34920;&#31034;&#36820;&#22238;&#21305;&#37197;&#20301;&#32622;&#20043;&#21069;&#30340;&#37096;&#20998;</span>
] )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">$<span class="org-variable-name">email</span>  = <span class="org-string">'name@example.com'</span>;
$<span class="org-variable-name">domain</span> = <span class="org-function-name">strstr</span>($<span class="org-variable-name">email</span>, <span class="org-string">'@'</span>);       <span class="org-comment-delimiter">// </span><span class="org-comment">@example.com</span>
$<span class="org-variable-name">user</span>   = <span class="org-function-name">strstr</span>($<span class="org-variable-name">email</span>, <span class="org-string">'@'</span>, <span class="org-constant">true</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">name</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-4-6" class="outline-3">
<h3 id="sec-4-6"><span class="section-number-3">4.6</span> <code>strtoupper()</code> <code>strtolower()</code></h3>
<div class="outline-text-3" id="text-4-6">
<p>
<a id="strtoupper" name="strtoupper"></a><a id="strtolower" name="strtolower"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">strtoupper</span> (
<span class="org-type">string</span> <span class="org-function-name">strtolower</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">string</span>
)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-4-7" class="outline-3">
<h3 id="sec-4-7"><span class="section-number-3">4.7</span> <code>strtr()</code></h3>
<div class="outline-text-3" id="text-4-7">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">strtr</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">str</span>
,   <span class="org-type">string</span> $<span class="org-variable-name">from</span>
,   <span class="org-type">string</span> $<span class="org-variable-name">to</span>
)

<span class="org-type">string</span> <span class="org-function-name">strtr</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">str</span>
,   <span class="org-type">array</span>  $<span class="org-variable-name">replace_pairs</span>
)
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">$<span class="org-variable-name">a</span> = <span class="org-string">'AbCdE'</span>;
$<span class="org-variable-name">b</span> = <span class="org-function-name">strtr</span>($<span class="org-variable-name">a</span>, <span class="org-string">'b'</span>, <span class="org-string">'B'</span>);                      <span class="org-comment-delimiter">// </span><span class="org-comment">ABCdE</span>
$<span class="org-variable-name">c</span> = <span class="org-function-name">strtr</span>($<span class="org-variable-name">a</span>, <span class="org-function-name">array</span>(<span class="org-string">'b'</span> =&gt; <span class="org-string">'B'</span>, <span class="org-string">'d'</span> =&gt; <span class="org-string">'D'</span>)); <span class="org-comment-delimiter">// </span><span class="org-comment">ABCDE</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-4-8" class="outline-3">
<h3 id="sec-4-8"><span class="section-number-3">4.8</span> <code>str_repeat()</code></h3>
<div class="outline-text-3" id="text-4-8">
<p>
<a id="str_repeat" name="str_repeat"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">str_repeat</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">input</span>
,   <span class="org-type">int</span>    $<span class="org-variable-name">multiplier</span>
)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-4-9" class="outline-3">
<h3 id="sec-4-9"><span class="section-number-3">4.9</span> <code>str_replace()</code></h3>
<div class="outline-text-3" id="text-4-9">
<p>
<a id="str_replace" name="str_replace"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">str_replace</span> (
    <span class="org-type">mixed</span>  $<span class="org-variable-name">search</span>  <span class="org-comment-delimiter">// </span><span class="org-comment">string &#19968;&#20010;&#26597;&#25214;&#39033;</span>
                    <span class="org-comment-delimiter">// </span><span class="org-comment">array  &#22810;&#20010;&#26597;&#25214;&#39033;</span>
,   <span class="org-type">mixed</span>  $<span class="org-variable-name">replace</span> <span class="org-comment-delimiter">// </span><span class="org-comment">string &#19968;&#20010;&#26367;&#25442;&#39033;</span>
                    <span class="org-comment-delimiter">// </span><span class="org-comment">array  &#22810;&#20010;&#26367;&#25442;&#39033;&#65292;&#19982;&#26597;&#25214;&#39033;&#19968;&#19968;&#23545;&#24212;</span>
,   <span class="org-type">mixed</span>  $<span class="org-variable-name">subject</span> <span class="org-comment-delimiter">// </span><span class="org-comment">string</span>
                    <span class="org-comment-delimiter">// </span><span class="org-comment">array  &#23545;&#25968;&#32452;&#20013;&#27599;&#20010;&#23383;&#31526;&#20018;&#36827;&#34892;&#26367;&#25442;</span>
[,  <span class="org-type">int</span>   &amp;$<span class="org-variable-name">count</span>   <span class="org-comment-delimiter">// </span><span class="org-comment">int    &#36827;&#34892;&#26367;&#25442;&#25805;&#20316;&#30340;&#27425;&#25968;</span>
])
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">$<span class="org-variable-name">a</span> = <span class="org-string">'AbCdE'</span>;
$<span class="org-variable-name">b</span> = <span class="org-default">0</span>;
$<span class="org-variable-name">c</span> = <span class="org-function-name">str_replace</span>([<span class="org-string">'b'</span>, <span class="org-string">'d'</span>], [<span class="org-string">'B'</span>, <span class="org-string">'D'</span>], $<span class="org-variable-name">a</span>, $<span class="org-variable-name">b</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">$b: 2</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">$c: 'ABCDE'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-4-10" class="outline-3">
<h3 id="sec-4-10"><span class="section-number-3">4.10</span> <code>substr()</code></h3>
<div class="outline-text-3" id="text-4-10">
<p>
<a id="substr" name="substr"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">substr</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">string</span>
,   <span class="org-type">int</span>    $<span class="org-variable-name">start</span>  <span class="org-comment-delimiter">// </span><span class="org-comment">&gt;= 0 &#34920;&#31034;&#27491;&#21521;&#20301;&#32622;&#65288;&#31532;&#19968;&#20010;&#23383;&#31526;&#20026; 0&#65289;</span>
                   <span class="org-comment-delimiter">// </span><span class="org-comment">&lt;  0 &#34920;&#31034;&#36870;&#21521;&#20301;&#32622;&#65288;&#26368;&#21518;&#19968;&#20010;&#23383;&#31526;&#20026; -1&#65289;</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">length</span> <span class="org-comment-delimiter">// </span><span class="org-comment">null &#21040;&#23383;&#31526;&#20018;&#26411;&#23614;</span>
                   <span class="org-comment-delimiter">// </span><span class="org-comment">&gt;  0 &#65288;&#21040;&#23383;&#31526;&#20018;&#26411;&#23614;&#20026;&#27490;&#65289;&#33267;&#22810; n &#20010;&#23383;&#31526;</span>
                   <span class="org-comment-delimiter">// </span><span class="org-comment">== 0 &#36820;&#22238; false&#65292;null &#25110;&#31354;&#23383;&#31526;&#20018;</span>
                   <span class="org-comment-delimiter">// </span><span class="org-comment">&lt;  0 &#21040;&#23383;&#31526;&#20018;&#26411;&#23614;&#20043;&#21069; n &#20010;&#23383;&#31526;&#65288;-1 &#34920;&#31034;&#21462;&#21040;&#20498;&#25968;&#31532;&#20108;&#20010;&#23383;&#31526;&#65289;</span>
])
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-4-11" class="outline-3">
<h3 id="sec-4-11"><span class="section-number-3">4.11</span> <code>ucwords()</code></h3>
<div class="outline-text-3" id="text-4-11">
<p>
<a id="ucwords" name="ucwords"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">ucwords</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">str</span>
[,  <span class="org-type">string</span> $<span class="org-variable-name">delimiters</span> = <span class="org-string">" \t\r\n\f\v"</span>
])
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> 日期时间</h2>
<div class="outline-text-2" id="text-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>date()</code></th>
<th scope="col" class="left">返回格式化时间字符串</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>time()</code></td>
<td class="left">返回当前时间戳</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>strtotime()</code></td>
<td class="left">根据时间描述返回时间戳</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>mktime()</code></td>
<td class="left">根据时间参数返回时间戳</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1"><span class="section-number-3">5.1</span> <code>date()</code></h3>
<div class="outline-text-3" id="text-5-1">
<p>
<a id="date" name="date"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">date</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">format</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">timestamp</span> = <span class="org-function-name">time</span>()
] )
</pre>
</div>

<p>
<code>$format</code>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">年</th>
<th scope="col" class="left"><code>Y</code></th>
<th scope="col" class="left">2015</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left"><code>y</code></th>
<th scope="col" class="left">15</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">月</td>
<td class="left"><code>F</code></td>
<td class="left">June</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>m</code></td>
<td class="left">06</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>n</code></td>
<td class="left">6</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">日</td>
<td class="left"><code>d</code></td>
<td class="left">03</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>j</code></td>
<td class="left">3</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>l</code></td>
<td class="left">Wednesday</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>D</code></td>
<td class="left">Wed</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>S</code></td>
<td class="left">st, nd, rd, th</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">时</td>
<td class="left"><code>g</code></td>
<td class="left">1 ~ 12</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>G</code></td>
<td class="left">0 ~ 23</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>h</code></td>
<td class="left">01 ~ 12</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>H</code></td>
<td class="left">00 ~ 23</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>a</code></td>
<td class="left">am, pm</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>A</code></td>
<td class="left">AM, PM</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">分</td>
<td class="left"><code>i</code></td>
<td class="left">00 ~ 59</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">秒</td>
<td class="left"><code>s</code></td>
<td class="left">00 ~ 59</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2"><span class="section-number-3">5.2</span> <code>mktime()</code></h3>
<div class="outline-text-3" id="text-5-2">
<p>
<a id="mktime" name="mktime"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">int</span> <span class="org-function-name">mktime</span> (
[   <span class="org-type">int</span> $<span class="org-variable-name">hour</span>   = <span class="org-function-name">date</span>(<span class="org-string">"H"</span>) 
[,  <span class="org-type">int</span> $<span class="org-variable-name">minute</span> = <span class="org-function-name">date</span>(<span class="org-string">"i"</span>)
[,  <span class="org-type">int</span> $<span class="org-variable-name">second</span> = <span class="org-function-name">date</span>(<span class="org-string">"s"</span>)
[,  <span class="org-type">int</span> $<span class="org-variable-name">month</span>  = <span class="org-function-name">date</span>(<span class="org-string">"n"</span>)
[,  <span class="org-type">int</span> $<span class="org-variable-name">day</span>    = <span class="org-function-name">date</span>(<span class="org-string">"j"</span>)
[,  <span class="org-type">int</span> $<span class="org-variable-name">year</span>   = <span class="org-function-name">date</span>(<span class="org-string">"Y"</span>)
[,  <span class="org-type">int</span> $<span class="org-variable-name">is_dst</span> = -<span class="org-default">1</span>
]]]]]]] )
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3"><span class="section-number-3">5.3</span> <code>strtotime()</code></h3>
<div class="outline-text-3" id="text-5-3">
<p>
<a id="strtotime" name="strtotime"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">int</span> <span class="org-function-name">strtotime</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">time</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">now</span> = <span class="org-function-name">time</span>()
] )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-function-name">strtotime</span>(<span class="org-string">"now"</span>);
<span class="org-function-name">strtotime</span>(<span class="org-string">"-1 day"</span>);
<span class="org-function-name">strtotime</span>(<span class="org-string">"+1 week 2 days 4 hours 2 seconds"</span>);
<span class="org-function-name">strtotime</span>(<span class="org-string">"next Thursday"</span>);

<span class="org-comment-delimiter">// </span><span class="org-comment">&#21487;&#20197;&#29992;&#20110;&#20174;&#23383;&#31526;&#20018;&#20013;&#35299;&#26512;&#26102;&#38388;</span>
$<span class="org-variable-name">date</span> = <span class="org-function-name">date</span>(<span class="org-string">"d-m-Y"</span>, <span class="org-function-name">strtotime</span>(<span class="org-string">"2010-03-21"</span>));
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-5-4" class="outline-3">
<h3 id="sec-5-4"><span class="section-number-3">5.4</span> <code>time()</code></h3>
<div class="outline-text-3" id="text-5-4">
<p>
<a id="time" name="time"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">int</span> <span class="org-function-name">time</span> ( <span class="org-type">void</span> )
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> 转义</h2>
<div class="outline-text-2" id="text-6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><a href="#addslashes"><code>addslashes()</code></a></th>
<th scope="col" class="left">用 <code>\</code> 转义引号和  <code>\</code></th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><a href="#stripslashes"><code>stripslashes()</code></a></td>
<td class="left">去除 <code>\</code> 转义，与 <code>addslashes()</code> 相反</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><a href="#htmlspecialchars"><code>htmlspecialchars()</code></a></td>
<td class="left">将特殊字符转换为 HTML entity</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><a href="#htmlentities"><code>htmlentities()</code></a></td>
<td class="left">将所有字符转换为 HTML entity</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><a href="#htmlspecialchars_decode"><code>htmlspecialchars_decode()</code></a></td>
<td class="left">将 HTML entity 转换为普通字符</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><a href="#strip_tags"><code>strip_tags()</code></a></td>
<td class="left">去除字符串中的 HTML 和 PHP 标签</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1"><span class="section-number-3">6.1</span> <code>addslashes()</code> <code>stripslashes</code></h3>
<div class="outline-text-3" id="text-6-1">
<p>
<a id="addslashes" name="addslashes"></a><a id="stripslashes" name="stripslashes"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">addslashes</span>   (
<span class="org-type">string</span> <span class="org-function-name">stripslashes</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">str</span>
)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-6-2" class="outline-3">
<h3 id="sec-6-2"><span class="section-number-3">6.2</span> <code>htmlspecialchars()</code> <code>htmlentities()</code></h3>
<div class="outline-text-3" id="text-6-2">
<p>
<a id="htmlspecialchars" name="htmlspecialchars"></a><a id="htmlentities" name="htmlentities"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">htmlspecialchars</span> (
<span class="org-type">string</span> <span class="org-function-name">htmlentities</span>     (
    <span class="org-type">string</span> $<span class="org-variable-name">string</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">flags</span> = <span class="org-constant">ENT_COMPAT</span> | <span class="org-constant">ENT_HTML401</span>
[,  <span class="org-type">string</span> $<span class="org-variable-name">encoding</span> = <span class="org-string">'UTF-8'</span>
]] )
</pre>
</div>

<p>
<code>$flags</code>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>ENT_COMPAT</code></th>
<th scope="col" class="left">只转换双引号，不转换单引号</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>ENT_QUOTES</code></td>
<td class="left">转换单、双引号</td>
</tr>
</tbody>
</table>

<p>
HTML entity
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>&amp;</code></th>
<th scope="col" class="left"><code>&amp;amp;</code></th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>'</code></td>
<td class="left"><code>&amp;apos;</code> <code>&amp;#039;</code></td>
</tr>

<tr>
<td class="left"><code>"</code></td>
<td class="left"><code>&amp;quot;</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>&lt;</code></td>
<td class="left"><code>&amp;lt;</code></td>
</tr>

<tr>
<td class="left"><code>&gt;</code></td>
<td class="left"><code>&amp;gt;</code></td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li><code>htmlspecialchars()</code> 只转换特殊字符
</li>
<li><code>htmlentities()</code> 将所有可以转换为 HTML entity 的字符都转换，包括无法识别的字符，如中文字符
</li>
</ul>

<p>
示例
</p>
<div class="org-src-container">

<pre class="src src-php">$<span class="org-variable-name">output</span> = <span class="org-string">'&lt;p&gt;&lt;script&gt;alert("NSA backdoor installed");&lt;/script&gt;'</span>;
<span class="org-keyword">echo</span> <span class="org-function-name">htmlentities</span>($<span class="org-variable-name">output</span>, <span class="org-constant">ENT_QUOTES</span>, <span class="org-string">'UTF-8'</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">&amp;lt;p&amp;gt;&amp;lt;script&amp;gt;alert(&amp;quot;NSA backdoor installed&amp;quot;);&amp;lt;/script&amp;gt;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-6-3" class="outline-3">
<h3 id="sec-6-3"><span class="section-number-3">6.3</span> <code>htmlspecialchars_decode()</code></h3>
<div class="outline-text-3" id="text-6-3">
<p>
<a id="htmlspecialchars_decode" name="htmlspecialchars_decode"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">htmlspecialchars_decode</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">string</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">flags</span> = <span class="org-constant">ENT_COMPAT</span> | <span class="org-constant">ENT_HTML401</span>
] )
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-6-4" class="outline-3">
<h3 id="sec-6-4"><span class="section-number-3">6.4</span> <code>strip_tags()</code></h3>
<div class="outline-text-3" id="text-6-4">
<p>
<a id="strip_tags" name="strip_tags"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">strip_tags</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">str</span>
[,  <span class="org-type">string</span> $<span class="org-variable-name">allowable_tags</span>
] )
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> 正则</h2>
<div class="outline-text-2" id="text-7">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>preg_match()</code></th>
<th scope="col" class="left">返回第一个匹配位置</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>preg_match_all()</code></td>
<td class="left">返回所有匹配位置</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>preg_replace()</code></td>
<td class="left">匹配模式并替换</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>preg_replace_callback()</code></td>
<td class="left">匹配模式并调用回调函数替换</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1"><span class="section-number-3">7.1</span> 表达式</h3>
<div class="outline-text-3" id="text-7-1">
<div class="org-src-container">

<pre class="src src-regex">/(&lt;pattern&gt;)/&lt;modifier&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-7-2" class="outline-3">
<h3 id="sec-7-2"><span class="section-number-3">7.2</span> <code>preg_match()</code></h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">int</span> <span class="org-function-name">preg_match</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">pattern</span>
,   <span class="org-type">string</span> $<span class="org-variable-name">subject</span>
[,  <span class="org-type">array</span> &amp;$<span class="org-variable-name">matches</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">flags</span> = <span class="org-default">0</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">offset</span> = <span class="org-default">0</span>
]]] )
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>$matches</code></th>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left"><code>$matches[0]</code> 为第一个匹配完整表达式的位置</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left"><code>$matches[1]</code> 为第一个匹配第一个子表达式的位置，以此类推</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>$flags</code></td>
<td class="left"><code>PREG_OFFSET_CAPTURE</code></td>
<td class="left"><code>$matches</code> 匹配结果附加位置偏移量</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">返回值</td>
<td class="left">0</td>
<td class="left">不存在匹配</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">1</td>
<td class="left">存在匹配</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>false</code></td>
<td class="left">错误</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-7-3" class="outline-3">
<h3 id="sec-7-3"><span class="section-number-3">7.3</span> <code>preg_match_all()</code></h3>
<div class="outline-text-3" id="text-7-3">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">int</span> <span class="org-function-name">preg_match_all</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">pattern</span>
,   <span class="org-type">string</span> $<span class="org-variable-name">subject</span>
[,  <span class="org-type">array</span> &amp;$<span class="org-variable-name">matches</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">flags</span> = <span class="org-constant">PREG_PATTERN_ORDER</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">offset</span> = <span class="org-default">0</span>
]]])
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>$matches</code></th>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left"><code>$matches[0]</code> 为所有匹配完整表达式的位置</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left"><code>$matches[1]</code> 为所有匹配第一个子表达式的位置，以此类推</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">返回值</td>
<td class="left"><code>int</code></td>
<td class="left">匹配部分的个数（可能是 0）</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>false</code></td>
<td class="left">错误</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-7-4" class="outline-3">
<h3 id="sec-7-4"><span class="section-number-3">7.4</span> <code>preg_replace()</code></h3>
<div class="outline-text-3" id="text-7-4">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">preg_replace</span> (
    <span class="org-type">mixed</span> $<span class="org-variable-name">pattern</span>
,   <span class="org-type">mixed</span> $<span class="org-variable-name">replacement</span>
,   <span class="org-type">mixed</span> $<span class="org-variable-name">subject</span>
[,  <span class="org-type">int</span>   $<span class="org-variable-name">limit</span> = -<span class="org-default">1</span>
[,  <span class="org-type">int</span>  &amp;$<span class="org-variable-name">count</span>
]])
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>$pattern</code></th>
<th scope="col" class="left"><code>string</code></th>
<th scope="col" class="left">&#xa0;</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left"><code>array</code></th>
<th scope="col" class="left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>$replacement</code></td>
<td class="left"><code>string</code></td>
<td class="left">如果 <code>$pattern</code> 是数组，则每个匹配都使用 <code>$replacement</code> 进行替换</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>array</code></td>
<td class="left">如果 <code>$pattern</code> 是数组，则每个匹配使用 <code>$replacement</code> 中对应元素进行替换</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">如果 <code>$replacement</code> 元素个数不足，剩余 <code>$pattern</code> 元素用空字符串替换</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>$subject</code></td>
<td class="left"><code>string</code></td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>array</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-comment-delimiter">// </span><span class="org-comment">$ 1,000.00 -&gt; 1000.00</span>
$<span class="org-variable-name">money</span> = <span class="org-function-name">preg_replace</span>(<span class="org-function-name">array</span>(<span class="org-string">'/\\$/'</span>, <span class="org-string">'/\s/'</span>, <span class="org-string">'/,/'</span>), <span class="org-string">''</span>, $<span class="org-variable-name">money</span>);

<span class="org-comment-delimiter">// </span><span class="org-comment">&#23558;&#27599;&#20010;&#21333;&#35789;&#39318;&#23383;&#31526;&#21464;&#20026;&#32418;&#33394;</span>
$<span class="org-variable-name">text</span> = <span class="org-function-name">preg_replace</span>(<span class="org-string">'/(\b.)/'</span>, <span class="org-string">'&lt;span style="color:red;"&gt;\1&lt;/span&gt;'</span>, $<span class="org-variable-name">text</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">\b &#34920;&#31034;&#35789;&#36793;&#30028;&#65288;word boundary&#65289;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-7-5" class="outline-3">
<h3 id="sec-7-5"><span class="section-number-3">7.5</span> <code>preg_replace_callback()</code></h3>
<div class="outline-text-3" id="text-7-5">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">preg_replace_callback</span> (
    <span class="org-type">mixed</span>    $<span class="org-variable-name">pattern</span>
,   <span class="org-type">callable</span> $<span class="org-variable-name">callback</span>
,   <span class="org-type">mixed</span>    $<span class="org-variable-name">subject</span>
[,  <span class="org-type">int</span>      $<span class="org-variable-name">limit</span> = -<span class="org-default">1</span>
[,  <span class="org-type">int</span>     &amp;$<span class="org-variable-name">count</span>
]])
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例 1</label>
<pre class="src src-php"><span class="org-keyword">function</span> <span class="org-function-name">handler</span>(<span class="org-type">array</span> $<span class="org-variable-name">matches</span>) {  <span class="org-comment-delimiter">// </span><span class="org-comment">&#21442;&#25968;&#26159;&#21305;&#37197;&#32467;&#26524;</span>
    <span class="org-keyword">return</span> <span class="org-function-name">strtolower</span>($<span class="org-variable-name">matches</span>[<span class="org-default">0</span>]); <span class="org-comment-delimiter">// </span><span class="org-comment">&#36820;&#22238;&#29992;&#20110;&#26367;&#25442;&#30340;&#23383;&#31526;&#20018;</span>
}
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例 2</label>
<pre class="src src-php"><span class="org-comment-delimiter">// </span><span class="org-comment">&#20351;&#29992;&#21311;&#21517;&#20989;&#25968;&#65292;&#21487;&#20197;&#20351;&#36923;&#36753;&#22312;&#21516;&#19968;&#20301;&#32622;&#65292;&#36991;&#20813;&#27745;&#26579;&#20989;&#25968;&#21629;&#21517;&#31354;&#38388;</span>
$<span class="org-variable-name">line</span> = <span class="org-function-name">preg_replace_callback</span>(
    <span class="org-string">'|&lt;p&gt;\s*\w|'</span>,
    <span class="org-keyword">function</span> ($<span class="org-variable-name">matches</span>) {<span class="org-keyword">return</span> <span class="org-function-name">strtolower</span>($<span class="org-variable-name">matches</span>[<span class="org-default">0</span>]);},
    $<span class="org-variable-name">line</span>
);
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> 加载</h2>
<div class="outline-text-2" id="text-8">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>include</code></th>
<th scope="col" class="left">试图加载文件，如果失败，程序给出 warning 并继续运行</th>
</tr>

<tr>
<th scope="col" class="left"><code>include_once</code></th>
<th scope="col" class="left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>require</code></td>
<td class="left">保证加载文件，如果失败，程序给出 fatal 错误</td>
</tr>

<tr>
<td class="left"><code>require_once</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>get_included_files()</code></td>
<td class="left">返回所有已经加载的文件</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1"><span class="section-number-3">8.1</span> <code>include(_once)</code> <code>require(_once)</code></h3>
<div class="outline-text-3" id="text-8-1">
<ul class="org-ul">
<li>相当于在此处粘贴文件的内容。
</li>
<li><code>_once</code> 可以避免多次加载，PHP 会解析文件的绝对路径进行比较，但会造成额外开销。
</li>
</ul>

<div class="org-src-container">

<pre class="src src-php"><span class="org-keyword">require</span>(<span class="org-string">'reusable.php'</span>);
<span class="org-keyword">require</span> <span class="org-string">'reusable.php'</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">&#26500;&#36896;&#20307;&#65292;&#35843;&#29992;&#26102;&#21487;&#20197;&#19981;&#21152; () </span>
<span class="org-keyword">if</span> (<span class="org-keyword">include</span>(<span class="org-string">'reusable.php'</span>) == <span class="org-string">'OK'</span>) {
    <span class="org-keyword">echo</span> <span class="org-string">'OK'</span>;
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-8-2" class="outline-3">
<h3 id="sec-8-2"><span class="section-number-3">8.2</span> <code>get_included_files()</code></h3>
<div class="outline-text-3" id="text-8-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">get_included_files</span> ( <span class="org-type">void</span> )
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9"><span class="section-number-2">9</span> 错误和异常</h2>
<div class="outline-text-2" id="text-9">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>错误</b></th>
<th scope="col" class="left"><code>error_log()</code></th>
<th scope="col" class="left">输出错误信息到日志文件</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>error_reporting()</code></td>
<td class="left">设置报错级别，或返回当前报错级别</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>trigger_error()</code></td>
<td class="left">触发用户级别的错误信息</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>set_error_handler()</code></td>
<td class="left">设置自定义错误处理函数</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>restore_error_handler()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>error_get_last()</code></td>
<td class="left">返回上一个错误</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>异常</b></td>
<td class="left"><code>set_exception_handler()</code></td>
<td class="left">设置自定义异常捕获函数</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>restore_exception_handler()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-9-1" class="outline-3">
<h3 id="sec-9-1"><span class="section-number-3">9.1</span> <code>error_get_last()</code></h3>
<div class="outline-text-3" id="text-9-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">error_get_last</span> ( <span class="org-type">void</span> )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">$<span class="org-variable-name">a</span> = <span class="org-default">1</span> / <span class="org-default">0</span>;
$<span class="org-variable-name">b</span> = <span class="org-function-name">error_get_last</span>();
<span class="org-comment-delimiter">// </span><span class="org-comment">array(</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">'type' =&gt; 2,</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">'message' =&gt; 'Division by zero',</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">'file' =&gt; '/var/www/foo.com/public/index.php',</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">'line' =&gt; 3</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-9-2" class="outline-3">
<h3 id="sec-9-2"><span class="section-number-3">9.2</span> <code>error_log()</code></h3>
<div class="outline-text-3" id="text-9-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">error_log</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">message</span>           <span class="org-comment-delimiter">// </span><span class="org-comment">&#38169;&#35823;&#20449;&#24687;</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">message_type</span> = <span class="org-default">0</span>  <span class="org-comment-delimiter">// </span><span class="org-comment">&#30446;&#26631;&#38169;&#35823;&#26085;&#24535;&#30340;&#31181;&#31867;</span>
[,  <span class="org-type">string</span> $<span class="org-variable-name">destination</span>       <span class="org-comment-delimiter">// </span><span class="org-comment">&#30446;&#26631;&#38169;&#35823;&#26085;&#24535;&#30340;&#20301;&#32622;&#65292;&#20855;&#20307;&#21547;&#20041;&#20381;&#36182; $message_type</span>
[,  <span class="org-type">string</span> $<span class="org-variable-name">extra_headers</span>     <span class="org-comment-delimiter">//</span>
]]] )
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 2:</span> <code>$message_type</code></caption>

<colgroup>
<col  class="right" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="right">0</th>
<th scope="col" class="left">使用操作系统的日志机制，或写入文件</th>
</tr>

<tr>
<th scope="col" class="right">&#xa0;</th>
<th scope="col" class="left">具体行为依赖配置中的 <code>error_log</code> 指令</th>
</tr>
</thead>
<tbody>
<tr>
<td class="right">1</td>
<td class="left">通过邮件发送， <code>$destination</code> 表示收件邮箱</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">3</td>
<td class="left">追加一行到日志文件， <code>$destination</code> 表示文件路径</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">4</td>
<td class="left">发送到 SAPI 日志处理器（handler）</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-9-3" class="outline-3">
<h3 id="sec-9-3"><span class="section-number-3">9.3</span> <code>error_reporting()</code></h3>
<div class="outline-text-3" id="text-9-3">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">int</span> <span class="org-function-name">error_reporting</span> ( <span class="org-comment-delimiter">// </span><span class="org-comment">&#36820;&#22238;&#20462;&#25913;&#21069;&#30340; error_reporting &#20540;</span>
[   <span class="org-type">int</span> $<span class="org-variable-name">level</span>        <span class="org-comment-delimiter">// </span><span class="org-comment">&#20301;&#25513;&#30721;</span>
])
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-function-name">error_reporting</span>(<span class="org-constant">E_ALL</span> &amp; ~<span class="org-constant">E_STRICT</span> &amp; ~<span class="org-constant">E_NOTICE</span>);
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-9-4" class="outline-3">
<h3 id="sec-9-4"><span class="section-number-3">9.4</span> <code>set_error_handler()</code></h3>
<div class="outline-text-3" id="text-9-4">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">set_error_handler</span> (
    <span class="org-type">callable</span> $<span class="org-variable-name">error_handler</span>                  <span class="org-comment-delimiter">// </span><span class="org-comment">&#38169;&#35823;&#22788;&#29702;&#20989;&#25968;</span>
[,  <span class="org-type">int</span>      $<span class="org-variable-name">error_types</span> = <span class="org-constant">E_ALL</span> | <span class="org-constant">E_STRICT</span> <span class="org-comment-delimiter">// </span><span class="org-comment">&#38169;&#35823;&#32423;&#21035;</span>
] )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">自定义错误处理函数</label>
<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">handler</span> (
    <span class="org-type">int</span>    $<span class="org-variable-name">errno</span>      <span class="org-comment-delimiter">// </span><span class="org-comment">&#38169;&#35823;&#32423;&#21035;&#65292;&#23545;&#24212; E_* &#24120;&#37327;</span>
,   <span class="org-type">string</span> $<span class="org-variable-name">errstr</span>     <span class="org-comment-delimiter">// </span><span class="org-comment">&#38169;&#35823;&#20449;&#24687;</span>
[,  <span class="org-type">string</span> $<span class="org-variable-name">errfile</span>    <span class="org-comment-delimiter">// </span><span class="org-comment">&#20986;&#38169;&#30340;&#25991;&#20214;&#21517;</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">errline</span>
[,  <span class="org-type">array</span>  $<span class="org-variable-name">errcontext</span>
]]] )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-keyword">function</span> <span class="org-function-name">foo</span>($<span class="org-variable-name">errno</span>, $<span class="org-variable-name">errmsg</span>) {
    <span class="org-keyword">echo</span> <span class="org-string">'Error handled by foo: '</span> . $<span class="org-variable-name">errmsg</span> . <span class="org-string">"\n"</span>;
}
<span class="org-function-name">set_error_handler</span>(<span class="org-string">'foo'</span>, <span class="org-constant">E_USER_ERROR</span>);
<span class="org-function-name">trigger_error</span>(<span class="org-string">'Unknown error'</span>, <span class="org-constant">E_USER_ERROR</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">Error handled by foo: Unknown error</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-9-5" class="outline-3">
<h3 id="sec-9-5"><span class="section-number-3">9.5</span> <code>set_exception_handler()</code></h3>
<div class="outline-text-3" id="text-9-5">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">callable</span> <span class="org-function-name">set_exception_handler</span> (
    <span class="org-type">callable</span> $<span class="org-variable-name">exception_handler</span>
)
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">自定义异常捕捉函数</label>
<pre class="src src-php"><span class="org-type">void</span> <span class="org-function-name">handler</span> ( <span class="org-type">Exception</span> $<span class="org-variable-name">exception</span> )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-keyword">function</span> <span class="org-function-name">foo</span>($<span class="org-variable-name">exception</span>) {
    <span class="org-keyword">echo</span> <span class="org-string">'Uncaught exception: '</span>, $<span class="org-variable-name">exception</span>-&gt;<span class="org-function-name">getMessage</span>(), <span class="org-string">"\n"</span>;
}
<span class="org-function-name">set_exception_handler</span>(<span class="org-string">'foo'</span>);
<span class="org-keyword">throw</span> <span class="org-keyword">new</span> <span class="org-type">Exception</span>(<span class="org-string">'Some exception'</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">Uncaught exception: Some exception</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-9-6" class="outline-3">
<h3 id="sec-9-6"><span class="section-number-3">9.6</span> <code>trigger_error()</code></h3>
<div class="outline-text-3" id="text-9-6">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">trigger_error</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">error_msg</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">error_type</span> = <span class="org-constant">E_USER_NOTICE</span>
] )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-keyword">if</span> ($<span class="org-variable-name">divisor</span> == <span class="org-default">0</span>) {
    <span class="org-function-name">trigger_error</span>(<span class="org-string">"Cannot divide by zero"</span>, <span class="org-constant">E_USER_ERROR</span>);
}
<span class="org-comment-delimiter">// </span><span class="org-comment">Fatal error: Cannot divide by zero in ... on line ...</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10"><span class="section-number-2">10</span> 变量和常量</h2>
<div class="outline-text-2" id="text-10">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>变量</b></th>
<th scope="col" class="left"><code>isset()</code></th>
<th scope="col" class="left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>empty()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>unset()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>常量</b></td>
<td class="left"><code>define()</code></td>
<td class="left">设置常量</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>defined()</code></td>
<td class="left">常量是否存在</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>类型</b></td>
<td class="left"><code>is_callable()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-10-1" class="outline-3">
<h3 id="sec-10-1"><span class="section-number-3">10.1</span> <code>define()</code></h3>
<div class="outline-text-3" id="text-10-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">define</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">name</span>
,   <span class="org-type">mixed</span>  $<span class="org-variable-name">value</span>
[,  <span class="org-type">bool</span>   $<span class="org-variable-name">case_insensitive</span> = <span class="org-constant">false</span>
])
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-function-name">define</span>(<span class="org-string">"CONSTANT"</span>, <span class="org-string">"Hello world."</span>);
<span class="org-keyword">echo</span> <span class="org-constant">CONSTANT</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">outputs "Hello world."</span>
<span class="org-keyword">echo</span> <span class="org-warning">Constant</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">outputs "Constant" and issues a notice.</span>

<span class="org-comment-delimiter">// </span><span class="org-comment">&#24573;&#30053;&#22823;&#23567;&#20889;</span>
<span class="org-function-name">define</span>(<span class="org-string">"GREETING"</span>, <span class="org-string">"Hello you."</span>, <span class="org-constant">true</span>);
<span class="org-keyword">echo</span> <span class="org-constant">GREETING</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">outputs "Hello you."</span>
<span class="org-keyword">echo</span> <span class="org-warning">Greeting</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">outputs "Hello you."</span>

<span class="org-comment-delimiter">// </span><span class="org-comment">&#25968;&#32452;&#65288;PHP &gt;= 7&#65289;</span>
<span class="org-comment">#+begin_src php</span>
<span class="org-function-name">define</span>(<span class="org-string">'ANIMALS'</span>, <span class="org-function-name">array</span>(<span class="org-string">'dog'</span>, <span class="org-string">'cat'</span>, <span class="org-string">'bird'</span>));
<span class="org-keyword">echo</span> <span class="org-default">ANIMALS</span>[<span class="org-default">1</span>]; <span class="org-comment-delimiter">// </span><span class="org-comment">outputs "cat"</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-10-2" class="outline-3">
<h3 id="sec-10-2"><span class="section-number-3">10.2</span> <code>defined()</code></h3>
<div class="outline-text-3" id="text-10-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">defined</span> ( <span class="org-type">string</span> $<span class="org-variable-name">name</span> )
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-10-3" class="outline-3">
<h3 id="sec-10-3"><span class="section-number-3">10.3</span> <code>isset()</code></h3>
<div class="outline-text-3" id="text-10-3">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-keyword">isset</span> ( <span class="org-type">mixed</span> $<span class="org-variable-name">var</span> , ... ) <span class="org-comment-delimiter">// </span><span class="org-comment">&#21464;&#37327;&#23384;&#22312;&#19988;&#19981;&#20026; null &#26102;&#36820;&#22238; true</span>
                                <span class="org-comment-delimiter">// </span><span class="org-comment">&#22810;&#20010;&#21464;&#37327;&#20840;&#37096;&#31526;&#21512; true &#26102;&#36820;&#22238; true</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-10-4" class="outline-3">
<h3 id="sec-10-4"><span class="section-number-3">10.4</span> <code>is_callable()</code></h3>
<div class="outline-text-3" id="text-10-4">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">is_callable</span> (
    <span class="org-type">mixed</span>   $<span class="org-variable-name">var</span> <span class="org-comment-delimiter">// </span><span class="org-comment">string: &lt;function_name&gt;</span>
                 <span class="org-comment-delimiter">// </span><span class="org-comment">array:  [&lt;class_name&gt;, &lt;method_name&gt;]</span>
                 <span class="org-comment-delimiter">//         </span><span class="org-comment">[&lt;object&gt;, &lt;method_name&gt;]</span>
[,  <span class="org-type">bool</span>    $<span class="org-variable-name">syntax_only</span> = <span class="org-constant">false</span>
[,  <span class="org-type">string</span> &amp;$<span class="org-variable-name">callable_name</span>
]] )
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-10-5" class="outline-3">
<h3 id="sec-10-5"><span class="section-number-3">10.5</span> <code>empty()</code></h3>
<div class="outline-text-3" id="text-10-5">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-keyword">empty</span> ( <span class="org-type">mixed</span> $<span class="org-variable-name">var</span> ) <span class="org-comment-delimiter">// </span><span class="org-comment">&#21464;&#37327;&#19981;&#23384;&#22312;&#65292;&#25110;&#20540;&#20026;&#38646;&#20540;&#12289;&#31354;&#20540;&#26102;&#36820;&#22238; true</span>
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 3:</span> 零值、空值</caption>

<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>int</code></th>
<th scope="col" class="left"><code>0</code></th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>float</code></td>
<td class="left"><code>0.0</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>string</code></td>
<td class="left"><code>""</code></td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>"0"</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>bool</code></td>
<td class="left"><code>false</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>array</code></td>
<td class="left"><code>array()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>null</code></td>
<td class="left"><code>null</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>mixed</code></td>
<td class="left">只声明未赋值的变量</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-10-6" class="outline-3">
<h3 id="sec-10-6"><span class="section-number-3">10.6</span> <code>unset()</code></h3>
<div class="outline-text-3" id="text-10-6">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">void</span> <span class="org-keyword">unset</span> ( <span class="org-type">mixed</span> $<span class="org-variable-name">var</span> , ... )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php"><span class="org-keyword">unset</span>($<span class="org-variable-name">foo</span>);
<span class="org-keyword">unset</span>($<span class="org-variable-name">bar</span>[<span class="org-string">'qux'</span>]);
<span class="org-keyword">unset</span>($<span class="org-variable-name">foo1</span>, $<span class="org-variable-name">foo2</span>, $<span class="org-variable-name">foo3</span>);
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11"><span class="section-number-2">11</span> 类和对象</h2>
<div class="outline-text-2" id="text-11">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>判断</b></th>
<th scope="col" class="left"><code>class_exists()</code></th>
<th scope="col" class="left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>method_exists()</code></td>
<td class="left">类或对象方法是否存在</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>is_subclass_of()</code></td>
<td class="left">类或对象是否是指定类的子类</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>信息</b></td>
<td class="left"><code>get_class()</code></td>
<td class="left">返回对象的类名（包含命名空间）</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>get_class_methods()</code></td>
<td class="left">返回类或对象的方法</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>get_class_vars()</code></td>
<td class="left">返回类的属性和默认值</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>get_declared_classes()</code></td>
<td class="left">返回所有已定义的类</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>get_parent_class()</code></td>
<td class="left">返回类或对象的基类名</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-11-1" class="outline-3">
<h3 id="sec-11-1"><span class="section-number-3">11.1</span> <code>get_class_methods()</code></h3>
<div class="outline-text-3" id="text-11-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">get_class_methods</span> ( <span class="org-type">mixed</span> $<span class="org-variable-name">class_name</span> )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><code>protected</code> 和 <code>private</code> 方法在类之外不可见。</label>
<pre class="src src-php"><span class="org-keyword">class</span> <span class="org-type">Foo</span> {
    <span class="org-keyword">private</span> <span class="org-keyword">function</span> <span class="org-function-name">bar</span>() {}
    <span class="org-keyword">public</span> <span class="org-keyword">static</span> <span class="org-keyword">function</span> <span class="org-function-name">baz</span>() {
        <span class="org-keyword">return</span> <span class="org-function-name">get_class_methods</span>(<span class="org-constant">self</span>::<span class="org-constant">class</span>);
    }
}
<span class="org-type">Foo</span>::<span class="org-function-name">baz</span>();               <span class="org-comment-delimiter">// </span><span class="org-comment">bar, baz</span>
<span class="org-function-name">get_class_methods</span>(<span class="org-string">'Foo'</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">baz</span>
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">用于在调用方法前确认是否存在。</label>
<pre class="src src-php"><span class="org-keyword">if</span> (<span class="org-function-name">in_array</span>(<span class="org-string">'bar'</span>, <span class="org-function-name">get_class_methods</span>($<span class="org-variable-name">foo</span>))) {
    $<span class="org-variable-name">foo</span>-&gt;<span class="org-function-name">bar</span>();
}
<span class="org-comment-delimiter">// </span><span class="org-comment">&#31561;&#20215;&#20110; is_callable([$foo, 'bar'])</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-11-2" class="outline-3">
<h3 id="sec-11-2"><span class="section-number-3">11.2</span> <code>get_class_vars()</code></h3>
<div class="outline-text-3" id="text-11-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">get_class_vars</span> ( <span class="org-type">string</span> $<span class="org-variable-name">class_name</span> )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><code>protected</code> 和 <code>private</code> 属性在类之外不可见</label>
<pre class="src src-php"><span class="org-keyword">class</span> <span class="org-type">Foo</span> {
    <span class="org-keyword">public</span> $<span class="org-variable-name">hoge</span>;
    <span class="org-keyword">private</span> $<span class="org-variable-name">fuga</span>;
    <span class="org-keyword">public</span> <span class="org-keyword">static</span> <span class="org-keyword">function</span> <span class="org-function-name">bar</span>() {
        <span class="org-keyword">return</span> <span class="org-function-name">get_class_vars</span>(<span class="org-constant">self</span>::<span class="org-constant">class</span>);
    }
}
<span class="org-type">Foo</span>::<span class="org-function-name">bar</span>();            <span class="org-comment-delimiter">// </span><span class="org-comment">['hoge' =&gt; null, 'fuga' =&gt; null]</span>
<span class="org-function-name">get_class_vars</span>(<span class="org-string">'Foo'</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">['hoge' =&gt; null]</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-11-3" class="outline-3">
<h3 id="sec-11-3"><span class="section-number-3">11.3</span> <code>get_parent_class()</code></h3>
<div class="outline-text-3" id="text-11-3">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">get_parent_class</span> ( [ <span class="org-type">mixed</span> $<span class="org-variable-name">object</span> ] )
</pre>
</div>

<div class="org-src-container">

<pre class="src src-php"><span class="org-keyword">namespace</span> <span class="org-type">Foobar</span>;
<span class="org-keyword">class</span> <span class="org-type">Foo</span> {}
<span class="org-keyword">class</span> <span class="org-type">Bar</span> <span class="org-keyword">extends</span> <span class="org-type">Foo</span> {
    <span class="org-keyword">public</span> <span class="org-keyword">static</span> <span class="org-keyword">function</span> <span class="org-function-name">bar</span>() {
        <span class="org-keyword">return</span> <span class="org-function-name">get_parent_class</span>(); <span class="org-comment-delimiter">// </span><span class="org-comment">&#26041;&#27861;&#20869;&#35843;&#29992;&#19981;&#38656;&#35201;&#21442;&#25968;</span>
    }
}
<span class="org-function-name">get_parent_class</span>(<span class="org-string">'Foobar\Bar'</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">Foobar\Foo</span>
<span class="org-function-name">get_parent_class</span>(<span class="org-keyword">new</span> <span class="org-type">Bar</span>());    <span class="org-comment-delimiter">// </span><span class="org-comment">Foobar\Foo</span>
<span class="org-type">Bar</span>::<span class="org-function-name">bar</span>();                     <span class="org-comment-delimiter">// </span><span class="org-comment">Foobar\Foo</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-11-4" class="outline-3">
<h3 id="sec-11-4"><span class="section-number-3">11.4</span> <code>is_subclass_of()</code></h3>
<div class="outline-text-3" id="text-11-4">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">is_subclass_of</span> (
    <span class="org-type">mixed</span>  $<span class="org-variable-name">object</span>
,   <span class="org-type">string</span> $<span class="org-variable-name">class_name</span>
[,  <span class="org-type">bool</span>   $<span class="org-variable-name">allow_string</span> = <span class="org-constant">true</span>
] )
</pre>
</div>

<p>
<code>is_subclass_of()</code> 只判断继承关系，判断继承关系和是否实现接口使用 <code>instanceof</code> 。
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-keyword">class</span> <span class="org-type">Foo</span> {}
<span class="org-keyword">class</span> <span class="org-type">Bar</span> <span class="org-keyword">extends</span> <span class="org-type">Foo</span> {}
<span class="org-function-name">is_subclass_of</span>(<span class="org-string">'Foo'</span>, <span class="org-string">'Foo'</span>);     <span class="org-comment-delimiter">// </span><span class="org-comment">false</span>
<span class="org-function-name">is_subclass_of</span>(<span class="org-string">'Bar'</span>, <span class="org-string">'Foo'</span>);     <span class="org-comment-delimiter">// </span><span class="org-comment">true</span>
<span class="org-function-name">is_subclass_of</span>(<span class="org-keyword">new</span> <span class="org-type">Bar</span>(), <span class="org-string">'Foo'</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">true</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-11-5" class="outline-3">
<h3 id="sec-11-5"><span class="section-number-3">11.5</span> <code>method_exists()</code></h3>
<div class="outline-text-3" id="text-11-5">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">method_exists</span> (
    <span class="org-type">mixed</span>  $<span class="org-variable-name">object</span> <span class="org-comment-delimiter">// </span><span class="org-comment">&#23545;&#35937;&#25110;&#31867;&#21517;</span>
,   <span class="org-type">string</span> $<span class="org-variable-name">method_name</span>
)
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">存在的方法不一定可以调用， <code>protected</code> 和 <code>private</code> 方法都返回 <code>true</code> 。</label>
<pre class="src src-php"><span class="org-keyword">class</span> <span class="org-type">Foo</span> {
    <span class="org-keyword">private</span> <span class="org-keyword">function</span> <span class="org-function-name">bar</span>() {}
    <span class="org-keyword">public</span> <span class="org-keyword">function</span> <span class="org-function-name">baz</span>() {}
}
<span class="org-function-name">method_exists</span>(<span class="org-string">'Foo'</span>, <span class="org-string">'bar'</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">true</span>
<span class="org-function-name">method_exists</span>(<span class="org-string">'Foo'</span>, <span class="org-string">'baz'</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">true</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-12" class="outline-2">
<h2 id="sec-12"><span class="section-number-2">12</span> 函数</h2>
<div class="outline-text-2" id="text-12">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>call_user_func()</code></th>
<th scope="col" class="left">动态调用函数或方法</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>call_user_func_array()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-12-1" class="outline-3">
<h3 id="sec-12-1"><span class="section-number-3">12.1</span> <code>call_user_func()</code></h3>
<div class="outline-text-3" id="text-12-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">call_user_func</span> (
    <span class="org-type">callable</span> $<span class="org-variable-name">callback</span>
[,  <span class="org-type">mixed</span>    $<span class="org-variable-name">parameter</span> <span class="org-comment-delimiter">// </span><span class="org-comment">&#20256;&#36882;&#32473;&#20989;&#25968;&#30340;&#21442;&#25968;</span>
[,  ...
]] )
</pre>
</div>

<div class="org-src-container">

<pre class="src src-php"><span class="org-keyword">function</span> <span class="org-function-name">foo</span>($<span class="org-variable-name">arg1</span>, $<span class="org-variable-name">arg2</span>) {}
<span class="org-function-name">call_user_func</span>(<span class="org-string">'foo'</span>, <span class="org-string">'one'</span>, <span class="org-string">'two'</span>);
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">动态调用时的参数是传值。</label>
<pre class="src src-php"><span class="org-keyword">function</span> <span class="org-function-name">increment</span>(&amp;$<span class="org-variable-name">var</span>) {}
$<span class="org-variable-name">a</span> = <span class="org-default">0</span>;
<span class="org-function-name">increment</span>($<span class="org-variable-name">a</span>);                    <span class="org-comment-delimiter">// </span><span class="org-comment">&#30452;&#25509;&#35843;&#29992;&#19981;&#38656;&#35201; &amp;</span>
<span class="org-function-name">call_user_func</span>(<span class="org-string">'increment'</span>, &amp;$<span class="org-variable-name">a</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">&#21160;&#24577;&#35843;&#29992;&#38656;&#35201; &amp; &#26174;&#24335;&#20256;&#36882;&#24341;&#29992;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-12-2" class="outline-3">
<h3 id="sec-12-2"><span class="section-number-3">12.2</span> <code>call_user_func_array()</code></h3>
<div class="outline-text-3" id="text-12-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">call_user_func_array</span> (
    <span class="org-type">callable</span> $<span class="org-variable-name">callback</span>
,   <span class="org-type">array</span>    $<span class="org-variable-name">param_arr</span> <span class="org-comment-delimiter">// </span><span class="org-comment">&#20256;&#36882;&#32473;&#20989;&#25968;&#30340;&#21442;&#25968;</span>
)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-php"><span class="org-keyword">function</span> <span class="org-function-name">foo</span>($<span class="org-variable-name">arg1</span>, $<span class="org-variable-name">arg2</span>) {}
<span class="org-keyword">class</span> <span class="org-type">Foo</span> {
    <span class="org-keyword">public</span> <span class="org-keyword">function</span> <span class="org-function-name">bar</span>($<span class="org-variable-name">arg1</span>, $<span class="org-variable-name">arg2</span>) {}
}
<span class="org-function-name">call_user_func_array</span>(<span class="org-string">'foo'</span>, [<span class="org-string">'one'</span>, <span class="org-string">'two'</span>]);
<span class="org-function-name">call_user_func_array</span>([<span class="org-keyword">new</span> <span class="org-type">Foo</span>(), <span class="org-string">'bar'</span>], [<span class="org-string">'one'</span>, <span class="org-string">'two'</span>]);
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">用于 <code>__call()</code> 处理未知个数的参数。</label>
<pre class="src src-php"><span class="org-keyword">class</span> <span class="org-type">Foo</span> {
    <span class="org-keyword">private</span> $<span class="org-variable-name">bar</span>;
    <span class="org-keyword">public</span> <span class="org-keyword">function</span> <span class="org-function-name">__construct</span>(<span class="org-type">Bar</span> $<span class="org-variable-name">bar</span>) {
        $<span class="org-constant">this</span>-&gt;<span class="org-variable-name">bar</span> = $<span class="org-variable-name">bar</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">&#20195;&#29702; Bar &#23545;&#35937;</span>
    }
    <span class="org-keyword">public</span> <span class="org-keyword">function</span> <span class="org-function-name">__call</span>($<span class="org-variable-name">method</span>, $<span class="org-variable-name">args</span>) {
        <span class="org-keyword">if</span> (<span class="org-function-name">is_callable</span>([$<span class="org-constant">this</span>-&gt;<span class="org-variable-name">bar</span>, $<span class="org-variable-name">method</span>])) {
            <span class="org-keyword">return</span> <span class="org-function-name">call_user_func_array</span>([$<span class="org-constant">this</span>-&gt;<span class="org-variable-name">bar</span>, $<span class="org-variable-name">method</span>], $<span class="org-variable-name">args</span>);
        }
    }
}
<span class="org-keyword">class</span> <span class="org-type">Bar</span> {
    <span class="org-keyword">public</span> <span class="org-keyword">function</span> <span class="org-function-name">add</span>($<span class="org-variable-name">arg1</span>, $<span class="org-variable-name">arg2</span>) {
        <span class="org-keyword">return</span> $<span class="org-variable-name">arg1</span> + $<span class="org-variable-name">arg2</span>;
    }
}
$<span class="org-variable-name">foo</span> = <span class="org-keyword">new</span> <span class="org-type">Foo</span>(<span class="org-keyword">new</span> <span class="org-type">Bar</span>());
$<span class="org-variable-name">foo</span>-&gt;<span class="org-function-name">add</span>(<span class="org-default">1</span>, <span class="org-default">2</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">3</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-13" class="outline-2">
<h2 id="sec-13"><span class="section-number-2">13</span> 文件</h2>
<div class="outline-text-2" id="text-13">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>信息</b></th>
<th scope="col" class="left"><a href="#file_exists"><code>file_exists()</code></a></th>
<th scope="col" class="left">文件是否存在</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>basename()</code></td>
<td class="left">从文件路径中提取文件名</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>filemtime()</code></td>
<td class="left">文件最后修改时间</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#feof"><code>feof()</code></a></td>
<td class="left">是否到达文件尾部</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>开闭文件</b></td>
<td class="left"><a href="#fopen"><code>fopen()</code></a></td>
<td class="left">打开文件或 URL，返回 <code>resource</code> 类型</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#fclose"><code>fclose()</code></a></td>
<td class="left">关闭文件</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>读文件</b></td>
<td class="left"><a href="#fread"><code>fread()</code></a></td>
<td class="left">读取指定长度的内容</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#fgets"><code>fgets()</code></a></td>
<td class="left">读取一行内容</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#file_get_contents"><code>file_get_contents()</code></a></td>
<td class="left">读取全部内容，返回字符串</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>file()</code></td>
<td class="left">读取全部内容，返回数组</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>写文件</b></td>
<td class="left"><a href="#fwrite"><code>fwrite()</code></a></td>
<td class="left">写入内容，返回写入的长度</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>临时文件</b></td>
<td class="left"><code>tempnam()</code></td>
<td class="left">在指定目录下创建临时文件，返回文件路径</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>tmpfile()</code></td>
<td class="left">创建临时文件，返回 <code>resource</code></td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-13-1" class="outline-3">
<h3 id="sec-13-1"><span class="section-number-3">13.1</span> <code>fclose()</code></h3>
<div class="outline-text-3" id="text-13-1">
<p>
<a id="fclose" name="fclose"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">fclose</span> ( <span class="org-type">resource</span> $<span class="org-variable-name">handle</span> )
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">返回值</td>
<td class="left"><code>true</code></td>
<td class="left">成功</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>false</code></td>
<td class="left">失败</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-13-2" class="outline-3">
<h3 id="sec-13-2"><span class="section-number-3">13.2</span> <code>feof()</code></h3>
<div class="outline-text-3" id="text-13-2">
<p>
<a id="feof" name="feof"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">feof</span> ( <span class="org-type">resource</span> $<span class="org-variable-name">handle</span> )
</pre>
</div>

<p>
示例
</p>
<div class="org-src-container">

<pre class="src src-php">$<span class="org-variable-name">handle</span> = <span class="org-function-name">fopen</span>($<span class="org-variable-name">file</span>, <span class="org-string">'rb'</span>);
<span class="org-keyword">while</span> (<span class="org-function-name">feof</span>($<span class="org-variable-name">handle</span>) !== <span class="org-constant">true</span>) {
    $<span class="org-variable-name">line</span> = <span class="org-function-name">fgets</span>($<span class="org-variable-name">handle</span>);
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-13-3" class="outline-3">
<h3 id="sec-13-3"><span class="section-number-3">13.3</span> <code>fgets()</code></h3>
<div class="outline-text-3" id="text-13-3">
<p>
<a id="fgets" name="fgets"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">fgets</span> (
    <span class="org-type">resource</span> $<span class="org-variable-name">handle</span> <span class="org-comment-delimiter">// </span><span class="org-comment">&#24320;&#22987;&#35835;&#21462;&#30340;&#25351;&#38024;&#20301;&#32622;</span>
[,  <span class="org-type">int</span>      $<span class="org-variable-name">length</span>
] )
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-13-4" class="outline-3">
<h3 id="sec-13-4"><span class="section-number-3">13.4</span> <code>file()</code></h3>
<div class="outline-text-3" id="text-13-4">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">file</span> (
    <span class="org-type">string</span>   $<span class="org-variable-name">filename</span>
[,  <span class="org-type">int</span>      $<span class="org-variable-name">flags</span> = <span class="org-default">0</span>
[,  <span class="org-type">resource</span> $<span class="org-variable-name">context</span>
]] )
</pre>
</div>

<div class="org-src-container">

<pre class="src src-php"><span class="org-comment-delimiter">// </span><span class="org-comment">file.txt</span>
<span class="org-warning">foo</span>
<span class="org-warning">bar</span>

<span class="org-comment-delimiter">// </span><span class="org-comment">index.php</span>
<span class="org-function-name">file</span>(<span class="org-string">'file.txt'</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">['foo', 'bar'] &#21253;&#21547;&#25442;&#34892;&#31526;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-13-5" class="outline-3">
<h3 id="sec-13-5"><span class="section-number-3">13.5</span> <code>file_exists()</code></h3>
<div class="outline-text-3" id="text-13-5">
<p>
<a id="file_exists" name="file_exists"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">file_exists</span> ( <span class="org-type">string</span> $<span class="org-variable-name">filename</span> )
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-13-6" class="outline-3">
<h3 id="sec-13-6"><span class="section-number-3">13.6</span> <code>file_get_contents()</code></h3>
<div class="outline-text-3" id="text-13-6">
<p>
<a id="file_get_contents" name="file_get_contents"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">file_get_contents</span> (
    <span class="org-type">string</span>   $<span class="org-variable-name">filename</span> <span class="org-comment-delimiter">// </span><span class="org-comment">&#25991;&#20214;&#36335;&#24452;&#12289;HTTP &#38142;&#25509;</span>
[,  <span class="org-type">bool</span>     $<span class="org-variable-name">use_include_path</span> = <span class="org-constant">false</span>
[,  <span class="org-type">resource</span> $<span class="org-variable-name">context</span>
[,  <span class="org-type">int</span>      $<span class="org-variable-name">offset</span> = -<span class="org-default">1</span>
[,  <span class="org-type">int</span>      $<span class="org-variable-name">maxlen</span>
]]]] )
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>$context</code></td>
<td class="left"><code>resource</code></td>
<td class="left"><a href="php_extension.html"><code>stream_context_create()</code></a> 创建的 context resource</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-13-7" class="outline-3">
<h3 id="sec-13-7"><span class="section-number-3">13.7</span> <code>fopen()</code></h3>
<div class="outline-text-3" id="text-13-7">
<p>
<a id="fopen" name="fopen"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">resource</span> <span class="org-function-name">fopen</span> (
    <span class="org-type">string</span>   $<span class="org-variable-name">filename</span> <span class="org-comment-delimiter">// </span><span class="org-comment">&#25991;&#20214;&#36335;&#24452;&#12289;HTTP&#12289;FTP &#38142;&#25509;</span>
,   <span class="org-type">string</span>   $<span class="org-variable-name">mode</span>
[,  <span class="org-type">bool</span>     $<span class="org-variable-name">use_include_path</span> = <span class="org-constant">false</span>
[,  <span class="org-type">resource</span> $<span class="org-variable-name">context</span>
]] )
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">返回值</td>
<td class="left"><code>true</code></td>
<td class="left">打开文件成功</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>false</code></td>
<td class="left">打开文件失败（模式不是 <code>w(+)</code> 和 <code>a(+)</code> ）</td>
</tr>
</tbody>
</table>

<p>
<code>$mode</code>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>r</code></th>
<th scope="col" class="left">读，指针在文件头</th>
</tr>

<tr>
<th scope="col" class="left"><code>r+</code></th>
<th scope="col" class="left">读写，指针在文件头</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>w</code></td>
<td class="left">写，指针在文件头并清空文件，文件不存在则创建</td>
</tr>

<tr>
<td class="left"><code>w+</code></td>
<td class="left">读写，指针在文件头并清空文件，文件不存在则创建</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>a</code></td>
<td class="left">写，指针在文件尾，文件不存在则创建</td>
</tr>

<tr>
<td class="left"><code>a+</code></td>
<td class="left">读写，指针在文件尾，文件不存在则创建</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-13-8" class="outline-3">
<h3 id="sec-13-8"><span class="section-number-3">13.8</span> <code>fread()</code></h3>
<div class="outline-text-3" id="text-13-8">
<p>
<a id="fread" name="fread"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">fread</span> (
    <span class="org-type">resource</span> $<span class="org-variable-name">handle</span> <span class="org-comment-delimiter">// </span><span class="org-comment">&#24320;&#22987;&#35835;&#21462;&#30340;&#25351;&#38024;&#20301;&#32622;</span>
,   <span class="org-type">int</span>      $<span class="org-variable-name">length</span> <span class="org-comment-delimiter">// </span><span class="org-comment">&#35835;&#21462;&#30340;&#23383;&#33410;&#38271;&#24230;&#65292;&#25110;&#21040;&#25991;&#20214;&#26411;&#23614;&#20026;&#27490;</span>
)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-13-9" class="outline-3">
<h3 id="sec-13-9"><span class="section-number-3">13.9</span> <code>fwrite()</code></h3>
<div class="outline-text-3" id="text-13-9">
<p>
<a id="fwrite" name="fwrite"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">int</span> <span class="org-function-name">fwrite</span> (
    <span class="org-type">resource</span> $<span class="org-variable-name">handle</span> <span class="org-comment-delimiter">// </span><span class="org-comment">&#24320;&#22987;&#20889;&#20837;&#30340;&#25351;&#38024;&#20301;&#32622;</span>
,   <span class="org-type">string</span>   $<span class="org-variable-name">string</span>
[,  <span class="org-type">int</span>      $<span class="org-variable-name">length</span>
] )
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">返回值</td>
<td class="left"><code>int</code></td>
<td class="left">写入的字符串长度</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-sec-14" class="outline-2">
<h2 id="sec-14"><span class="section-number-2">14</span> 网络</h2>
<div class="outline-text-2" id="text-14">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>header()</code></th>
<th scope="col" class="left">向客户端发送一个原始（raw）HTTP header</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>header_remove()</code></td>
<td class="left">移除设置的 header</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>headers_list()</code></td>
<td class="left">获取响应的 header 列表</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>headers_sent()</code></td>
<td class="left">检查是否已发送 header 以及发送 header 的代码位置</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>http_response_code()</code></td>
<td class="left">设置、获取 HTTP 响应码</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>setcookie()</code></td>
<td class="left">设置 cookie</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-14-1" class="outline-3">
<h3 id="sec-14-1"><span class="section-number-3">14.1</span> <code>header()</code></h3>
<div class="outline-text-3" id="text-14-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">void</span> <span class="org-function-name">header</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">string</span>
[,  <span class="org-type">bool</span>   $<span class="org-variable-name">replace</span> = <span class="org-constant">true</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">http_response_code</span>
]] )
</pre>
</div>

<p>
必须在产生任何输出（HTML 标签、空格、空行）之前使用。当已产生输出时，PHP 会自动发送 header，此时调用 <code>header()</code> 会产生警告信息。
</p>

<div class="org-src-container">
<label class="org-src-name">HTTP 跳转</label>
<pre class="src src-php"><span class="org-function-name">header</span>(<span class="org-string">'Location: http://www.domain.com/new_home_page.html'</span>);
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">HTTP 身份验证</label>
<pre class="src src-php"><span class="org-keyword">if</span> (<span class="org-keyword">isset</span>($<span class="org-constant">_SERVER</span>[<span class="org-string">'PHP_AUTH_USER'</span>]) &amp;&amp; <span class="org-keyword">isset</span>($<span class="org-constant">_SERVER</span>[<span class="org-string">'PHP_AUTH_PW'</span>])) {
    ...
} <span class="org-keyword">else</span> {
    <span class="org-function-name">header</span>(<span class="org-string">'WWW-Authenticate: Basic realm="Realm-Name"'</span>);
    <span class="org-function-name">header</span>(<span class="org-string">'HTTP/1.0 401 Unauthorized'</span>);
    <span class="org-keyword">die</span>(<span class="org-string">"Please enter your username and password"</span>);
}
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">内容类型</label>
<pre class="src src-php"><span class="org-function-name">header</span>(<span class="org-string">'Content-Type: image/png'</span>);
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-14-2" class="outline-3">
<h3 id="sec-14-2"><span class="section-number-3">14.2</span> <code>header_remove()</code></h3>
<div class="outline-text-3" id="text-14-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">void</span> <span class="org-function-name">header_remove</span> ( [ <span class="org-type">string</span> $<span class="org-variable-name">name</span> ] )
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-14-3" class="outline-3">
<h3 id="sec-14-3"><span class="section-number-3">14.3</span> <code>headers_list()</code></h3>
<div class="outline-text-3" id="text-14-3">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">headers_list</span> ( <span class="org-type">void</span> )
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-14-4" class="outline-3">
<h3 id="sec-14-4"><span class="section-number-3">14.4</span> <code>headers_sent()</code></h3>
<div class="outline-text-3" id="text-14-4">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">headers_sent</span> (
[   <span class="org-type">string</span> &amp;$<span class="org-variable-name">file</span> <span class="org-comment-delimiter">// </span><span class="org-comment">&#21457;&#36865; header &#30340;&#25991;&#20214;&#21517;</span>
[,  <span class="org-type">int</span>    &amp;$<span class="org-variable-name">line</span> <span class="org-comment-delimiter">// </span><span class="org-comment">&#21457;&#36865; header &#30340;&#34892;&#25968;</span>
]] )
</pre>
</div>

<p>
示例
</p>
<div class="org-src-container">

<pre class="src src-php"><span class="org-keyword">if</span> (!<span class="org-function-name">headers_sent</span>($<span class="org-variable-name">filename</span>, $<span class="org-variable-name">linenum</span>)) {
    <span class="org-function-name">header</span>(<span class="org-string">'Location: http://www.example.com/'</span>);
} <span class="org-keyword">else</span> {
    <span class="org-keyword">echo</span> <span class="org-string">"Headers already sent in $filename on line $linenum\n"</span> .
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-14-5" class="outline-3">
<h3 id="sec-14-5"><span class="section-number-3">14.5</span> <code>http_response_code()</code></h3>
<div class="outline-text-3" id="text-14-5">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">int</span> <span class="org-function-name">http_response_code</span> ( [ <span class="org-type">int</span> $<span class="org-variable-name">response_code</span> ] )
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-14-6" class="outline-3">
<h3 id="sec-14-6"><span class="section-number-3">14.6</span> <code>setcookie()</code></h3>
<div class="outline-text-3" id="text-14-6">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">setcookie</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">name</span>
[,  <span class="org-type">string</span> $<span class="org-variable-name">value</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">expire</span> = <span class="org-default">0</span>
[,  <span class="org-type">string</span> $<span class="org-variable-name">path</span>
[,  <span class="org-type">string</span> $<span class="org-variable-name">domain</span>
[,  <span class="org-type">bool</span>   $<span class="org-variable-name">secure</span> = <span class="org-constant">false</span>
[,  <span class="org-type">bool</span>   $<span class="org-variable-name">httponly</span> = <span class="org-constant">false</span>
]]]]]])
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-15" class="outline-2">
<h2 id="sec-15"><span class="section-number-2">15</span> URL</h2>
<div class="outline-text-2" id="text-15">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>http_build_query()</code></th>
<th scope="col" class="left">生成 URL 编码的查询字符串</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>parse_url()</code></td>
<td class="left">解析 URL 组成部分</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><a href="#urlencode"><code>urlencode()</code></a></td>
<td class="left">将字符串编码，用于 URL 请求</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-15-1" class="outline-3">
<h3 id="sec-15-1"><span class="section-number-3">15.1</span> <code>http_build_query()</code></h3>
<div class="outline-text-3" id="text-15-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">http_build_query</span> (
    <span class="org-type">mixed</span>  $<span class="org-variable-name">query_data</span>
[,  <span class="org-type">string</span> $<span class="org-variable-name">numeric_prefix</span>
[,  <span class="org-type">string</span> $<span class="org-variable-name">arg_separator</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">enc_type</span> = <span class="org-warning">PHP_QUERY_RFC1738</span>
]]])
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-15-2" class="outline-3">
<h3 id="sec-15-2"><span class="section-number-3">15.2</span> <code>parse_url()</code></h3>
<div class="outline-text-3" id="text-15-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">parse_url</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">url</span>
[,  <span class="org-type">int</span>    $<span class="org-variable-name">component</span> = -<span class="org-default">1</span>
])
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">示例</label>
<pre class="src src-php">$<span class="org-variable-name">array</span> = <span class="org-function-name">parse_url</span>(<span class="org-string">'http://foo.com:8080/bar/index.php?key=value#anchor'</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">array(</span>
<span class="org-comment-delimiter">//    </span><span class="org-comment">'scheme' =&gt; 'http',</span>
<span class="org-comment-delimiter">//    </span><span class="org-comment">'host' =&gt; 'foo.com',</span>
<span class="org-comment-delimiter">//    </span><span class="org-comment">'port' =&gt; 8080,</span>
<span class="org-comment-delimiter">//    </span><span class="org-comment">'path' =&gt; '/bar/index.php',</span>
<span class="org-comment-delimiter">//    </span><span class="org-comment">'query' =&gt; 'key=value',</span>
<span class="org-comment-delimiter">//    </span><span class="org-comment">'fragment' =&gt; 'anchor'</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-15-3" class="outline-3">
<h3 id="sec-15-3"><span class="section-number-3">15.3</span> <code>urlencode()</code></h3>
<div class="outline-text-3" id="text-15-3">
<p>
<a id="urlencode" name="urlencode"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">urlencode</span> ( <span class="org-type">string</span> $<span class="org-variable-name">str</span> )
</pre>
</div>

<p>
规则
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>0-9a-zA-Z._-</code></th>
<th scope="col" class="left">保持不变</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">空格</td>
<td class="left"><code>+</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">其他字符</td>
<td class="left"><code>%</code> + 两位十六进制数</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-sec-16" class="outline-2">
<h2 id="sec-16"><span class="section-number-2">16</span> 环境和配置</h2>
<div class="outline-text-2" id="text-16">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>环境</b></th>
<th scope="col" class="left"><code>phpinfo()</code></th>
<th scope="col" class="left">输出 PHP 配置信息</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>phpversion()</code></td>
<td class="left">输出 PHP 或扩展的版本信息</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>version_compare()</code></td>
<td class="left">比较两个 PHP 标准版本号</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>配置</b></td>
<td class="left"><a href="#ini_get"><code>ini_get()</code></a></td>
<td class="left">返回设置项的值</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#ini_get_all"><code>ini_get_all()</code></a></td>
<td class="left">返回所有设置项的值</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#ini_set"><code>ini_set()</code></a></td>
<td class="left">修改设置项的值</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#ini_alter"><code>ini_​alter()</code></a></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><a href="#ini_restore"><code>ini_restore()</code></a></td>
<td class="left">恢复设置项为原始值</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>get_include_path()</code></td>
<td class="left">读取 <code>include_path</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>set_include_path()</code></td>
<td class="left">设定 <code>include_path</code></td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-16-1" class="outline-3">
<h3 id="sec-16-1"><span class="section-number-3">16.1</span> <code>ini_get()</code></h3>
<div class="outline-text-3" id="text-16-1">
<p>
<a id="ini_get" name="ini_get"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">ini_get</span> ( <span class="org-type">string</span> $<span class="org-variable-name">varname</span> )
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">返回值</td>
<td class="left"><code>string</code></td>
<td class="left">配置的值，值为 <code>null</code> 时返回空字符串</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>false</code></td>
<td class="left">配置不存在时</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-16-2" class="outline-3">
<h3 id="sec-16-2"><span class="section-number-3">16.2</span> <code>ini_get_all()</code></h3>
<div class="outline-text-3" id="text-16-2">
<p>
<a id="ini_get_all" name="ini_get_all"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">array</span> <span class="org-function-name">ini_get_all</span> (
[   <span class="org-type">string</span> $<span class="org-variable-name">extension</span>
[,  <span class="org-type">bool</span>   $<span class="org-variable-name">details</span> = <span class="org-constant">true</span>
]] )
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-16-3" class="outline-3">
<h3 id="sec-16-3"><span class="section-number-3">16.3</span> <code>ini_set()</code> <code>ini_alter()</code></h3>
<div class="outline-text-3" id="text-16-3">
<p>
<a id="ini_set" name="ini_set"></a><a id="ini_alter" name="ini_alter"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">ini_set</span> (
<span class="org-type">string</span> <span class="org-function-name">ini_alter</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">varname</span>
,   <span class="org-type">string</span> $<span class="org-variable-name">newvalue</span>
)
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">返回值</td>
<td class="left"><code>string</code></td>
<td class="left">成功时，返回修改前的值</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>false</code></td>
<td class="left">失败时</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>使用 <code>ini_set()</code> 后，配置会在脚本运行时使用新的值，并在脚本结束时恢复
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-16-4" class="outline-3">
<h3 id="sec-16-4"><span class="section-number-3">16.4</span> <code>ini_restore()</code></h3>
<div class="outline-text-3" id="text-16-4">
<p>
<a id="ini_restore" name="ini_restore"></a>
</p>

<div class="org-src-container">

<pre class="src src-php"><span class="org-type">void</span> <span class="org-function-name">ini_restore</span> ( <span class="org-type">string</span> $<span class="org-variable-name">varname</span> )
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-16-5" class="outline-3">
<h3 id="sec-16-5"><span class="section-number-3">16.5</span> <code>phpinfo()</code></h3>
<div class="outline-text-3" id="text-16-5">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">bool</span> <span class="org-function-name">phpinfo</span> ( [ <span class="org-type">int</span> $<span class="org-variable-name">what</span> = <span class="org-constant">INFO_ALL</span> ] )
</pre>
</div>

<p>
<code>$what</code>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="right">1</th>
<th scope="col" class="left"><code>INFO_GENERAL</code></th>
</tr>
</thead>
<tbody>
<tr>
<td class="right">2</td>
<td class="left"><code>INFO_CREDITS</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-16-6" class="outline-3">
<h3 id="sec-16-6"><span class="section-number-3">16.6</span> <code>phpversion()</code></h3>
<div class="outline-text-3" id="text-16-6">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">phpversion</span> ( [ <span class="org-type">string</span> $<span class="org-variable-name">extension</span> ] )
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-16-7" class="outline-3">
<h3 id="sec-16-7"><span class="section-number-3">16.7</span> <code>set_include_path()</code></h3>
<div class="outline-text-3" id="text-16-7">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">string</span> <span class="org-function-name">set_include_path</span> ( <span class="org-type">string</span> $<span class="org-variable-name">new_include_path</span> )
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">添加查找路径。</label>
<pre class="src src-php"><span class="org-function-name">set_include_path</span>(<span class="org-function-name">get_include_path</span>() . <span class="org-constant">PATH_SEPARATOR</span> . <span class="org-string">"/home/foobar/phplib/"</span>);
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-16-8" class="outline-3">
<h3 id="sec-16-8"><span class="section-number-3">16.8</span> <code>version_compare()</code></h3>
<div class="outline-text-3" id="text-16-8">
<div class="org-src-container">

<pre class="src src-php"><span class="org-type">mixed</span> <span class="org-function-name">version_compare</span> (
    <span class="org-type">string</span> $<span class="org-variable-name">version1</span>
,   <span class="org-type">string</span> $<span class="org-variable-name">version2</span>
[,  <span class="org-type">string</span> $<span class="org-variable-name">operator</span>
])
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="right" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>$operation</code></th>
<th scope="col" class="right"><code>string</code></th>
<th scope="col" class="left"><code>&lt;</code> <code>&lt;=</code> <code>&gt;</code> <code>&gt;=</code> etc.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">返回值</td>
<td class="right">-1</td>
<td class="left"><code>$version1 &lt; $version2</code></td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="right">0</td>
<td class="left"><code>$version1 == $version2</code></td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="right">1</td>
<td class="left"><code>$version1 &gt; $version2</code></td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="right"><code>true</code></td>
<td class="left"><code>$oprator</code> 进行的比较成立</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="right"><code>false</code></td>
<td class="left"><code>$oprator</code> 进行的比较不成立</td>
</tr>
</tbody>
</table>

<p>
示例
</p>
<div class="org-src-container">

<pre class="src src-php">$<span class="org-variable-name">version</span> = <span class="org-function-name">curl_version</span>();
<span class="org-keyword">if</span> (<span class="org-function-name">version_compare</span>($<span class="org-variable-name">version</span>[<span class="org-string">"version"</span>], <span class="org-string">"7.16.2"</span>) &lt; <span class="org-default">0</span>) {
    ...
}
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-17" class="outline-2">
<h2 id="sec-17"><span class="section-number-2">17</span> Magic</h2>
<div class="outline-text-2" id="text-17">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left"><b>调用时机</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>__construct()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>__destruct()</code></td>
<td class="left">对象内存空间被回收前，如 <code>unset()</code> 时</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>__get()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>__set()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>__isset()</code></td>
<td class="left"><code>isset()</code> <code>empty()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>__unset()</code></td>
<td class="left"><code>unset()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>__call()</code></td>
<td class="left">调用未定义的方法时</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>__callStatic()</code></td>
<td class="left">用调用静态方法的方式调用未定义的方法时</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>__toString()</code></td>
<td class="left">对象被隐式转换为字符串时，如 <code>echo</code> <code>print</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>__clone()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>__sleep()</code></td>
<td class="left"><code>serialize()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>__wakeup()</code></td>
<td class="left"><code>unserialize()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>__invoke()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>__set_state()</code></td>
<td class="left"><code>var_export()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>__debugInfo()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-17-1" class="outline-3">
<h3 id="sec-17-1"><span class="section-number-3">17.1</span> 示例</h3>
<div class="outline-text-3" id="text-17-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-keyword">class</span> <span class="org-type">Test</span> {
    <span class="org-keyword">private</span> $<span class="org-variable-name">data</span> = <span class="org-function-name">array</span>();
    <span class="org-keyword">public</span> <span class="org-keyword">function</span> <span class="org-function-name">__set</span>($<span class="org-variable-name">name</span>, $<span class="org-variable-name">value</span>) {
        $<span class="org-constant">this</span>-&gt;<span class="org-variable-name">data</span>[$<span class="org-variable-name">name</span>] = $<span class="org-variable-name">value</span>;
    }
    <span class="org-keyword">public</span> <span class="org-keyword">function</span> <span class="org-function-name">__get</span>($<span class="org-variable-name">name</span>) {
        <span class="org-keyword">if</span> (<span class="org-function-name">array_key_exists</span>($<span class="org-variable-name">name</span>, $<span class="org-constant">this</span>-&gt;<span class="org-variable-name">data</span>)) {
            <span class="org-keyword">return</span> $<span class="org-constant">this</span>-&gt;<span class="org-variable-name">data</span>[$<span class="org-variable-name">name</span>];
        }
    }
    <span class="org-keyword">public</span> <span class="org-keyword">function</span> <span class="org-function-name">__isset</span>($<span class="org-variable-name">name</span>) {
        <span class="org-keyword">return</span> <span class="org-keyword">isset</span>($<span class="org-constant">this</span>-&gt;<span class="org-variable-name">data</span>[$<span class="org-variable-name">name</span>]);
    }
    <span class="org-keyword">public</span> <span class="org-keyword">function</span> <span class="org-function-name">__unset</span>($<span class="org-variable-name">name</span>) {
        <span class="org-keyword">unset</span>($<span class="org-constant">this</span>-&gt;<span class="org-variable-name">data</span>[$<span class="org-variable-name">name</span>]);
    }
    <span class="org-keyword">public</span> <span class="org-keyword">function</span> <span class="org-function-name">__call</span>($<span class="org-variable-name">name</span>, $<span class="org-variable-name">arguments</span>) {
        <span class="org-keyword">echo</span> <span class="org-string">"Calling object method '$name' "</span> . <span class="org-function-name">implode</span>(<span class="org-string">', '</span>, $<span class="org-variable-name">arguments</span>). <span class="org-string">"\n"</span>;
    }
    <span class="org-keyword">public</span> <span class="org-keyword">static</span> <span class="org-keyword">function</span> <span class="org-function-name">__callStatic</span>($<span class="org-variable-name">name</span>, $<span class="org-variable-name">arguments</span>) {
        <span class="org-keyword">echo</span> <span class="org-string">"Calling static method '$name' "</span> . <span class="org-function-name">implode</span>(<span class="org-string">', '</span>, $<span class="org-variable-name">arguments</span>). <span class="org-string">"\n"</span>;
    }
}

$<span class="org-variable-name">obj</span> = <span class="org-keyword">new</span> <span class="org-type">MethodTest</span>;
$<span class="org-variable-name">obj</span>-&gt;<span class="org-function-name">runTest</span>(<span class="org-string">'in object context'</span>);       <span class="org-comment-delimiter">// </span><span class="org-comment">__call()</span>
<span class="org-type">MethodTest</span>::<span class="org-function-name">runTest</span>(<span class="org-string">'in static context'</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">__callStatic()</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-17-2" class="outline-3">
<h3 id="sec-17-2"><span class="section-number-3">17.2</span> <code>__get()</code> <code>__set()</code></h3>
<div class="outline-text-3" id="text-17-2">
<div class="org-src-container">

<pre class="src src-php"><span class="org-keyword">class</span> <span class="org-type">Foo</span> {
    <span class="org-keyword">protected</span> $<span class="org-variable-name">data</span> = <span class="org-function-name">array</span>();
    <span class="org-keyword">public</span> <span class="org-keyword">function</span> <span class="org-function-name">__set</span>($<span class="org-variable-name">name</span>, $<span class="org-variable-name">value</span>) {
        $<span class="org-constant">this</span>-&gt;<span class="org-variable-name">data</span>[$<span class="org-variable-name">name</span>] = $<span class="org-variable-name">value</span>;
    }
    <span class="org-keyword">public</span> <span class="org-keyword">function</span> &amp;<span class="org-function-name">__get</span>($<span class="org-variable-name">name</span>) {
        <span class="org-keyword">if</span> (<span class="org-function-name">array_key_exists</span>($<span class="org-variable-name">name</span>, $<span class="org-constant">this</span>-&gt;<span class="org-variable-name">data</span>)) {
            <span class="org-keyword">return</span> $<span class="org-constant">this</span>-&gt;<span class="org-variable-name">data</span>[$<span class="org-variable-name">name</span>];
        }
        $<span class="org-variable-name">value</span> = <span class="org-constant">false</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">&#38656;&#35201;&#36820;&#22238;&#24341;&#29992;</span>
        <span class="org-keyword">return</span> $<span class="org-variable-name">value</span>;
    }
}

$<span class="org-variable-name">obj</span> = <span class="org-keyword">new</span> <span class="org-type">Foo</span>;
$<span class="org-variable-name">obj</span>-&gt;<span class="org-variable-name">bar</span> = <span class="org-string">'123'</span>;
<span class="org-keyword">echo</span> $<span class="org-variable-name">obj</span>-&gt;<span class="org-variable-name">bar</span>;
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-18" class="outline-2">
<h2 id="sec-18"><span class="section-number-2">18</span> 结构体</h2>
<div class="outline-text-2" id="text-18">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">结构体</th>
<th scope="col" class="left">不返回值</th>
<th scope="col" class="left">调用时不需要 <code>()</code></th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">函数</td>
<td class="left">返回值</td>
<td class="left">调用时需要 <code>()</code></td>
</tr>
</tbody>
</table>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>exit</code></th>
<th scope="col" class="left">结束脚本的执行</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>die</code></td>
<td class="left">等于 <code>exit</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>or</code></td>
<td class="left">表达式为 <code>false</code> 时执行</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-18-1" class="outline-3">
<h3 id="sec-18-1"><span class="section-number-3">18.1</span> <code>exit</code></h3>
<div class="outline-text-3" id="text-18-1">
<div class="org-src-container">

<pre class="src src-php"><span class="org-keyword">exit</span>;                            <span class="org-comment-delimiter">// </span><span class="org-comment">&#26080;&#21442;&#25968;</span>
<span class="org-type">void</span> <span class="org-keyword">exit</span> ( [ <span class="org-type">string</span> $<span class="org-variable-name">status</span> ] ) <span class="org-comment-delimiter">// </span><span class="org-comment">&#38169;&#35823;&#20449;&#24687;&#65288;&#36755;&#20986;&#65289;</span>
<span class="org-type">void</span> <span class="org-keyword">exit</span> ( <span class="org-type">int</span> $<span class="org-variable-name">status</span> )        <span class="org-comment-delimiter">// </span><span class="org-comment">exit &#29366;&#24577;&#30721;&#65288;&#19981;&#36755;&#20986;&#65289;</span>
</pre>
</div>

<ul class="org-ul">
<li><code>exit</code> 被调用时， <code>shutdown</code> 函数和对象的 <code>destructor</code> 会在结束前执行
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-18-2" class="outline-3">
<h3 id="sec-18-2"><span class="section-number-3">18.2</span> <code>die</code></h3>
<div class="outline-text-3" id="text-18-2">
<ul class="org-ul">
<li>通常与 <code>or</code> 组合使用，用于为可能出错的函数调用提供错误处理
</li>
</ul>

<p>
示例 1
</p>
<div class="org-src-container">

<pre class="src src-php"><span class="org-function-name">mysql_query</span>($<span class="org-variable-name">query</span>) <span class="org-keyword">or</span> <span class="org-keyword">die</span>(<span class="org-string">'Could not execute query'</span>);
</pre>
</div>

<p>
示例 2
</p>
<div class="org-src-container">

<pre class="src src-php"><span class="org-function-name">mysql_query</span>($<span class="org-variable-name">query</span>) <span class="org-keyword">or</span> <span class="org-keyword">die</span>(<span class="org-function-name">err_msg</span>());
<span class="org-keyword">function</span> <span class="org-function-name">err_msg</span>()
{
    <span class="org-keyword">return</span> <span class="org-string">'MySQL error was: '</span> . <span class="org-function-name">mysql_error</span>();
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-18-3" class="outline-3">
<h3 id="sec-18-3"><span class="section-number-3">18.3</span> <code>or</code></h3>
<div class="outline-text-3" id="text-18-3">
<div class="org-src-container">

<pre class="src src-php"><span class="org-constant">&lt;expr&gt;</span> <span class="org-keyword">or</span> <span class="org-constant">&lt;command&gt;</span>
</pre>
</div>

<ul class="org-ul">
<li>跟在返回 <code>bool</code> 的表达式后
</li>
<li>等价于 <code>if (!&lt;expr&gt;) {&lt;command&gt;}</code>
</li>
</ul>

<p>
示例
</p>
<div class="org-src-container">

<pre class="src src-php"><span class="org-function-name">mysql_connect</span>($<span class="org-variable-name">db_host</span>, $<span class="org-variable-name">db_user</span>, $<span class="org-variable-name">db_password</span>) <span class="org-keyword">or</span> <span class="org-keyword">die</span>(<span class="org-string">"Unable to connect to MySQL"</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">&#31561;&#20215;&#20110;</span>
$<span class="org-variable-name">db_server</span> = <span class="org-function-name">mysql_connect</span>($<span class="org-variable-name">db_host</span>, $<span class="org-variable-name">db_user</span>, $<span class="org-variable-name">db_password</span>);
<span class="org-keyword">if</span> (!$<span class="org-variable-name">db_server</span>) <span class="org-keyword">die</span>(<span class="org-string">"Unable to connect to MySQL"</span>);
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-19" class="outline-2">
<h2 id="sec-19"><span class="section-number-2">19</span> 其他</h2>
<div class="outline-text-2" id="text-19">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>sleep()</code></th>
<th scope="col" class="left">延迟执行</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2017-09-16 Sat 11:37</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.3.1 (<a href="http://orgmode.org">Org</a> mode 8.2.5h)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
