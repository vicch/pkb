#+setupfile: ../../styles/readtheorg.setup
#+title: Web

* HTTP
** Header
*** 请求

|          |                     |                                                      | 示例                                           |
|----------+---------------------+------------------------------------------------------+------------------------------------------------|
| *请求*   | =Host=              | 服务器域名（用于虚拟主机）和监听的 TCP 端口号        | =Host: www.w3.org:80=                          |
|----------+---------------------+------------------------------------------------------+------------------------------------------------|
|          | =Referer=           | 包含当前请求的页面的链接的前一个页面的地址           | =Referer: http://www.w3.org/index.html=        |
|----------+---------------------+------------------------------------------------------+------------------------------------------------|
|          | =Connection=        | 当前连接的选项                                       | =Connection: keep-alive=                       |
|----------+---------------------+------------------------------------------------------+------------------------------------------------|
|          | =Date=              | 消息发起日期和时间                                   | =Date: Tue, 15 Nov 1994 08:12:31 GMT=          |
|----------+---------------------+------------------------------------------------------+------------------------------------------------|
| *客户端* | =Cookie=            |                                                      | =Cookie: $Version=1; Skin=new;=                |
|----------+---------------------+------------------------------------------------------+------------------------------------------------|
|          | =User-Agent=        |                                                      | =User-Agent: CERN-LineMode/2.15 libwww/2.17b3= |
|----------+---------------------+------------------------------------------------------+------------------------------------------------|
| *内容*   | =Accept=            | 可接收的媒体类型                                     | =Accept: text/*, text/html, text/html=         |
|----------+---------------------+------------------------------------------------------+------------------------------------------------|
|          | =Accept-Charset=    | 可接收的字符集                                       | =Accept-Charset: iso-8859-5, unicode-1-1=      |
|----------+---------------------+------------------------------------------------------+------------------------------------------------|
|          | =Accept-Encoding=   | 可接收的编码类型                                     | =Accept-Encoding: compress, gzip=              |
|----------+---------------------+------------------------------------------------------+------------------------------------------------|
|          | =Accept-Language=   | 可接收的语言                                         | =Accept-Language: da, en-gb=                   |
|----------+---------------------+------------------------------------------------------+------------------------------------------------|
| *缓存*   | =Cache-Control=     | 缓存机制指令                                         | =Cache-Control: no-cache, must-revalidate=     |
|----------+---------------------+------------------------------------------------------+------------------------------------------------|
|          | =If-Modified-Since= | 资源在执行时间之后被修改过时才重新请求，否则使用缓存 |                                                |
|          |                     | 资源未被修改时返回 =304 Not Modified=                |                                                |
|----------+---------------------+------------------------------------------------------+------------------------------------------------|
| *安全*   | =Authorization=     | HTTP 身份验证凭据（credential）                      | =Authorization: Basic am910jRmdW4==            |

*** 响应

|          |                    |                                          | 示例                                                  |
|----------+--------------------+------------------------------------------+-------------------------------------------------------|
| *响应*   |                    | 状态                                     | =HTTP/1.1 200 OK=                                     |
|----------+--------------------+------------------------------------------+-------------------------------------------------------|
|          | =Allow=            | 允许的请求方法                           | =Allow: GET, HEAD, PUT=                               |
|----------+--------------------+------------------------------------------+-------------------------------------------------------|
|          | =Location=         | 跳转到其他 URL                           | =Location: http://www.w3.org/pub/WWW/People.html=     |
|----------+--------------------+------------------------------------------+-------------------------------------------------------|
| *服务器* | =Server=           | 服务器名（服务器端软件及版本）           | =nginx/1.2.6=                                         |
|----------+--------------------+------------------------------------------+-------------------------------------------------------|
| *客户端* | =Set-Cookie=       |                                          | =Set-Cookie: UserID=JohnDoe; Max-Age=3600; Version=1= |
|----------+--------------------+------------------------------------------+-------------------------------------------------------|
| *内容*   | =Content-Length=   | 内容长度                                 | =Content-Length: 6044=                                |
|----------+--------------------+------------------------------------------+-------------------------------------------------------|
|          | =Content-Type=     | 内容类型及字符集                         | =Content-Type: text/html;charset=utf-8=               |
|----------+--------------------+------------------------------------------+-------------------------------------------------------|
|          | =Content-Encoding= | 内容编码                                 | =Content-Encoding: gzip=                              |
|----------+--------------------+------------------------------------------+-------------------------------------------------------|
|          | =Content-Language= | 内容语言                                 | =Content-Language: en=                                |
|----------+--------------------+------------------------------------------+-------------------------------------------------------|
| *缓存*   | =Expires=          | 响应失效（stale）的日期时间              | =Expires: Thu, 01 Dec 1994 16:00:00 GMT=              |
|          |                    | 之后需要重新从服务器获取                 |                                                       |
|----------+--------------------+------------------------------------------+-------------------------------------------------------|
|          | =Last-Modified=    |                                          | =Last-Modified: Tue, 15 Nov 1994 12:45:26 GMT=        |
|----------+--------------------+------------------------------------------+-------------------------------------------------------|
|          | =Vary=             | 辨别不同的请求的方式，以决定是否使用缓存 | =Vary: Cookie, Accept-Encoding=                       |
|----------+--------------------+------------------------------------------+-------------------------------------------------------|
| *安全*   | =WWW-Authenticate= | 请求的资源需要 HTTP 身份验证             | =WWW-Authenticate: Basic=                             |

*** Etag

Etag header 是一个资源的唯一标识符，类似于文件的校验和，缓存机制（客户端在使用本地的缓存前，询问服务器某个资源是否过期）通过比较 Etag 确定一个资源是否过期。

** 响应码

| 100 ~ 199 | 信息状态码         |
|-----------+--------------------|
| 200 ~ 299 | 成功状态码         |
|-----------+--------------------|
| 300 ~ 399 | 跳转状态码         |
|-----------+--------------------|
| 400 ~ 499 | 客户端错误状态码   |
|-----------+--------------------|
| 500 ~ 599 | 服务器端错误状态码 | 

| 200 | OK                    | 正常返回                                 |
|-----+-----------------------+------------------------------------------|
| 202 | Accepted              | 请求被接受，等待服务器动作               |
|-----+-----------------------+------------------------------------------|
| 301 | Moved Permanently     | 永久跳转                                 |
|-----+-----------------------+------------------------------------------|
| 302 | Found                 | 暂时跳转                                 |
|-----+-----------------------+------------------------------------------|
| 401 | Unauthorized          | 需要验证身份                             |
|-----+-----------------------+------------------------------------------|
| 403 | Forbidden             | 请求被拒绝                               |
|-----+-----------------------+------------------------------------------|
| 404 | Not Found             | 找不到请求的 URL                         |
|-----+-----------------------+------------------------------------------|
| 500 | Internal Server Error | 服务器内部错误，无法满足请求             |
|-----+-----------------------+------------------------------------------|
| 502 | Bad Gateway           | Gateway 或代理服务器与相关服务器连接失败 |
|-----+-----------------------+------------------------------------------|
| 503 | Service Unavailable   | 服务器暂时无法满足请求                   |

* Links

1. [[https://www.w3.org/Protocols/rfc2616/rfc2616.html][Hypertext Transfer Protocol -- HTTP/1.1]]
1. [[https://en.wikipedia.org/wiki/List_of_HTTP_header_fields][List of HTTP header fields]]
